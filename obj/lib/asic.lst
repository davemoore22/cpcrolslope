                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.0 #15242 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module asic
                                      6 	
                                      7 	.optsdcc -mz80 sdcccall(1)
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _cpct_asicPageDisconnect
                                     12 	.globl _cpct_asicPageConnect
                                     13 	.globl _cpct_asicSetSpritePalette
                                     14 	.globl _cpct_asicSetSpritePalColour
                                     15 	.globl _cpct_asicSetSpriteZoom
                                     16 	.globl _cpct_asicSetSpritePosition
                                     17 	.globl _cpct_asicCopySpriteData
                                     18 	.globl _cpct_zx7b_decrunch_s
                                     19 	.globl _cpct_waitVSYNCStart
                                     20 	.globl _cpct_memset
                                     21 	.globl _a_sprite_flip_horizontal_inplace
                                     22 	.globl _a_set_hardware_sprite_palette
                                     23 	.globl _a_blank_hardware_sprite_palette
                                     24 	.globl _a_load_roland_sprites
                                     25 	.globl _a_load_ghost_sprites
                                     26 	.globl _a_load_spider_sprites
                                     27 	.globl _a_load_snowball_sprites
                                     28 	.globl _a_load_cpctelera_sprites
                                     29 	.globl _a_load_hw_sprite
                                     30 	.globl _a_load_sprite_set
                                     31 	.globl _a_clear_sprites
                                     32 	.globl _a_load_sprite_range
                                     33 	.globl _a_hide_sprite_range
                                     34 	.globl _a_clear_all_sprites
                                     35 	.globl _a_show_sprite
                                     36 	.globl _a_hide_sprite
                                     37 	.globl _a_set_sprite_zoom_range
                                     38 	.globl _a_page_connect_safe
                                     39 	.globl _a_page_disconnect_safe
                                     40 ;--------------------------------------------------------
                                     41 ; special function registers
                                     42 ;--------------------------------------------------------
                                     43 ;--------------------------------------------------------
                                     44 ; ram data
                                     45 ;--------------------------------------------------------
                                     46 	.area _DATA
                                     47 ;--------------------------------------------------------
                                     48 ; ram data
                                     49 ;--------------------------------------------------------
                                     50 	.area _INITIALIZED
    00000000                         51 _a_asic_paged:
    00000000                         52 	.ds 1
                                     53 ;--------------------------------------------------------
                                     54 ; absolute external ram data
                                     55 ;--------------------------------------------------------
                                     56 	.area _DABS (ABS)
                                     57 ;--------------------------------------------------------
                                     58 ; global & static initialisations
                                     59 ;--------------------------------------------------------
                                     60 	.area _HOME
                                     61 	.area _GSINIT
                                     62 	.area _GSFINAL
                                     63 	.area _GSINIT
                                     64 ;--------------------------------------------------------
                                     65 ; Home
                                     66 ;--------------------------------------------------------
                                     67 	.area _HOME
                                     68 	.area _HOME
                                     69 ;--------------------------------------------------------
                                     70 ; code
                                     71 ;--------------------------------------------------------
                                     72 	.area _CODE
                                     73 ;src/lib/asic.c:23: void a_sprite_flip_horizontal_inplace(u8 *sprite) {
                                     74 ;	---------------------------------
                                     75 ; Function a_sprite_flip_horizontal_inplace
                                     76 ; ---------------------------------
    00000000                         77 _a_sprite_flip_horizontal_inplace::
    00000000 DD E5            [15]   78 	push	ix
    00000002 DD 21 00 00      [14]   79 	ld	ix,#0
    00000006 DD 39            [15]   80 	add	ix,sp
    00000008 F5               [11]   81 	push	af
    00000009 F5               [11]   82 	push	af
    0000000A 3B               [ 6]   83 	dec	sp
    0000000B EB               [ 4]   84 	ex	de, hl
                                     85 ;src/lib/asic.c:25: for (u8 y = 0; y < SPRITE_H; y++) {
    0000000C DD 36 FE 00      [19]   86 	ld	-2 (ix), #0x00
    00000010                         87 00107$:
    00000010 DD 7E FE         [19]   88 	ld	a, -2 (ix)
    00000013 D6 10            [ 7]   89 	sub	a, #0x10
    00000015 30 47            [12]   90 	jr	NC, 00109$
                                     91 ;src/lib/asic.c:26: u8 *row = sprite + y * SPRITE_W;
    00000017 DD 6E FE         [19]   92 	ld	l, -2 (ix)
    0000001A 26 00            [ 7]   93 	ld	h, #0x00
    0000001C 29               [11]   94 	add	hl, hl
    0000001D 29               [11]   95 	add	hl, hl
    0000001E 29               [11]   96 	add	hl, hl
    0000001F 29               [11]   97 	add	hl, hl
    00000020 19               [11]   98 	add	hl, de
    00000021 E3               [19]   99 	ex	(sp), hl
                                    100 ;src/lib/asic.c:28: for (u8 x = 0; x < (SPRITE_W >> 1); x++) {
    00000022 DD 36 FF 00      [19]  101 	ld	-1 (ix), #0x00
    00000026                        102 00104$:
    00000026 DD 7E FF         [19]  103 	ld	a, -1 (ix)
    00000029 D6 08            [ 7]  104 	sub	a, #0x08
    0000002B 30 2C            [12]  105 	jr	NC, 00108$
                                    106 ;src/lib/asic.c:29: u8 tmp = row[x];
    0000002D DD 7E FB         [19]  107 	ld	a, -5 (ix)
    00000030 DD 86 FF         [19]  108 	add	a, -1 (ix)
    00000033 4F               [ 4]  109 	ld	c, a
    00000034 DD 7E FC         [19]  110 	ld	a, -4 (ix)
    00000037 CE 00            [ 7]  111 	adc	a, #0x00
    00000039 47               [ 4]  112 	ld	b, a
    0000003A 0A               [ 7]  113 	ld	a, (bc)
    0000003B DD 77 FD         [19]  114 	ld	-3 (ix), a
                                    115 ;src/lib/asic.c:30: row[x] = row[SPRITE_W - 1 - x];
    0000003E DD 6E FF         [19]  116 	ld	l, -1 (ix)
    00000041 3E 0F            [ 7]  117 	ld	a, #0x0f
    00000043 95               [ 4]  118 	sub	a, l
    00000044 DD 86 FB         [19]  119 	add	a, -5 (ix)
    00000047 6F               [ 4]  120 	ld	l, a
    00000048 3E 00            [ 7]  121 	ld	a, #0x00
    0000004A DD 8E FC         [19]  122 	adc	a, -4 (ix)
    0000004D 67               [ 4]  123 	ld	h, a
    0000004E 7E               [ 7]  124 	ld	a, (hl)
    0000004F 02               [ 7]  125 	ld	(bc), a
                                    126 ;src/lib/asic.c:31: row[SPRITE_W - 1 - x] = tmp;
    00000050 DD 7E FD         [19]  127 	ld	a, -3 (ix)
    00000053 77               [ 7]  128 	ld	(hl), a
                                    129 ;src/lib/asic.c:28: for (u8 x = 0; x < (SPRITE_W >> 1); x++) {
    00000054 DD 34 FF         [23]  130 	inc	-1 (ix)
    00000057 18 CD            [12]  131 	jr	00104$
    00000059                        132 00108$:
                                    133 ;src/lib/asic.c:25: for (u8 y = 0; y < SPRITE_H; y++) {
    00000059 DD 34 FE         [23]  134 	inc	-2 (ix)
    0000005C 18 B2            [12]  135 	jr	00107$
    0000005E                        136 00109$:
                                    137 ;src/lib/asic.c:34: }
    0000005E DD F9            [10]  138 	ld	sp, ix
    00000060 DD E1            [14]  139 	pop	ix
    00000062 C9               [10]  140 	ret
                                    141 ;src/lib/asic.c:36: void a_set_hardware_sprite_palette(const u16 *palette) {
                                    142 ;	---------------------------------
                                    143 ; Function a_set_hardware_sprite_palette
                                    144 ; ---------------------------------
    00000063                        145 _a_set_hardware_sprite_palette::
                                    146 ;src/lib/asic.c:38: cpct_asicSetSpritePalette(palette, 16);
    00000063 11 10 00         [10]  147 	ld	de, #0x0010
                                    148 ;src/lib/asic.c:39: }
    00000066 C3r00r00         [10]  149 	jp	_cpct_asicSetSpritePalette
                                    150 ;src/lib/asic.c:41: void a_blank_hardware_sprite_palette(void) {
                                    151 ;	---------------------------------
                                    152 ; Function a_blank_hardware_sprite_palette
                                    153 ; ---------------------------------
    00000069                        154 _a_blank_hardware_sprite_palette::
                                    155 ;src/lib/asic.c:43: for (u8 i = 0; i < 16; i++)
    00000069 0E 00            [ 7]  156 	ld	c, #0x00
    0000006B                        157 00103$:
    0000006B 79               [ 4]  158 	ld	a, c
    0000006C D6 10            [ 7]  159 	sub	a, #0x10
    0000006E D0               [11]  160 	ret	NC
                                    161 ;src/lib/asic.c:44: cpct_asicSetSpritePalColour(i, 0xFFF);
    0000006F 69               [ 4]  162 	ld	l, c
    00000070 26 00            [ 7]  163 	ld	h, #0x00
    00000072 C5               [11]  164 	push	bc
    00000073 11 FF 0F         [10]  165 	ld	de, #0x0fff
    00000076 CDr00r00         [17]  166 	call	_cpct_asicSetSpritePalColour
    00000079 C1               [10]  167 	pop	bc
                                    168 ;src/lib/asic.c:43: for (u8 i = 0; i < 16; i++)
    0000007A 0C               [ 4]  169 	inc	c
                                    170 ;src/lib/asic.c:45: }
    0000007B 18 EE            [12]  171 	jr	00103$
                                    172 ;src/lib/asic.c:47: void a_load_roland_sprites(bool flip) {
                                    173 ;	---------------------------------
                                    174 ; Function a_load_roland_sprites
                                    175 ; ---------------------------------
    0000007D                        176 _a_load_roland_sprites::
    0000007D 47               [ 4]  177 	ld	b, a
                                    178 ;src/lib/asic.c:49: a_load_sprite_set(roland_sprites_data, NULL, 4, flip);
    0000007E 0E 04            [ 7]  179 	ld	c, #0x04
    00000080 C5               [11]  180 	push	bc
    00000081 11 00 00         [10]  181 	ld	de, #0x0000
    00000084 21r00r00         [10]  182 	ld	hl, #_roland_sprites_data
    00000087 CDr18r01         [17]  183 	call	_a_load_sprite_set
                                    184 ;src/lib/asic.c:50: }
    0000008A C9               [10]  185 	ret
                                    186 ;src/lib/asic.c:52: void a_load_ghost_sprites(bool flip) {
                                    187 ;	---------------------------------
                                    188 ; Function a_load_ghost_sprites
                                    189 ; ---------------------------------
    0000008B                        190 _a_load_ghost_sprites::
    0000008B 47               [ 4]  191 	ld	b, a
                                    192 ;src/lib/asic.c:54: a_load_sprite_set(ghost_sprites_data, NULL, 9, flip);
    0000008C 0E 09            [ 7]  193 	ld	c, #0x09
    0000008E C5               [11]  194 	push	bc
    0000008F 11 00 00         [10]  195 	ld	de, #0x0000
    00000092 21r00r00         [10]  196 	ld	hl, #_ghost_sprites_data
    00000095 CDr18r01         [17]  197 	call	_a_load_sprite_set
                                    198 ;src/lib/asic.c:55: }
    00000098 C9               [10]  199 	ret
                                    200 ;src/lib/asic.c:57: void a_load_spider_sprites(bool flip) {
                                    201 ;	---------------------------------
                                    202 ; Function a_load_spider_sprites
                                    203 ; ---------------------------------
    00000099                        204 _a_load_spider_sprites::
    00000099 47               [ 4]  205 	ld	b, a
                                    206 ;src/lib/asic.c:59: a_load_sprite_set(spider_sprites_data, NULL, 12, flip);
    0000009A 0E 0C            [ 7]  207 	ld	c, #0x0c
    0000009C C5               [11]  208 	push	bc
    0000009D 11 00 00         [10]  209 	ld	de, #0x0000
    000000A0 21r00r00         [10]  210 	ld	hl, #_spider_sprites_data
    000000A3 CDr18r01         [17]  211 	call	_a_load_sprite_set
                                    212 ;src/lib/asic.c:60: }
    000000A6 C9               [10]  213 	ret
                                    214 ;src/lib/asic.c:62: void a_load_snowball_sprites(bool flip) {
                                    215 ;	---------------------------------
                                    216 ; Function a_load_snowball_sprites
                                    217 ; ---------------------------------
    000000A7                        218 _a_load_snowball_sprites::
    000000A7 47               [ 4]  219 	ld	b, a
                                    220 ;src/lib/asic.c:64: a_load_sprite_set(snowball_sprites_data, NULL, 16, flip);
    000000A8 0E 10            [ 7]  221 	ld	c, #0x10
    000000AA C5               [11]  222 	push	bc
    000000AB 11 00 00         [10]  223 	ld	de, #0x0000
    000000AE 21r00r00         [10]  224 	ld	hl, #_snowball_sprites_data
    000000B1 CDr18r01         [17]  225 	call	_a_load_sprite_set
                                    226 ;src/lib/asic.c:65: }
    000000B4 C9               [10]  227 	ret
                                    228 ;src/lib/asic.c:67: void a_load_cpctelera_sprites(bool flip) {
                                    229 ;	---------------------------------
                                    230 ; Function a_load_cpctelera_sprites
                                    231 ; ---------------------------------
    000000B5                        232 _a_load_cpctelera_sprites::
    000000B5 47               [ 4]  233 	ld	b, a
                                    234 ;src/lib/asic.c:69: a_load_sprite_set(cpctelera_sprites_data, NULL, 16, flip);
    000000B6 0E 10            [ 7]  235 	ld	c, #0x10
    000000B8 C5               [11]  236 	push	bc
    000000B9 11 00 00         [10]  237 	ld	de, #0x0000
    000000BC 21r00r00         [10]  238 	ld	hl, #_cpctelera_sprites_data
    000000BF CDr18r01         [17]  239 	call	_a_load_sprite_set
                                    240 ;src/lib/asic.c:70: }
    000000C2 C9               [10]  241 	ret
                                    242 ;src/lib/asic.c:72: void a_load_hw_sprite(u8 hw_id, u8 frame, const sprite_data_t *sprite_table,
                                    243 ;	---------------------------------
                                    244 ; Function a_load_hw_sprite
                                    245 ; ---------------------------------
    000000C3                        246 _a_load_hw_sprite::
    000000C3 4F               [ 4]  247 	ld	c, a
    000000C4 45               [ 4]  248 	ld	b, l
                                    249 ;src/lib/asic.c:77: cpct_memset(HW_SPRITE_BUFFER, 0, SPRITE_BYTES);
    000000C5 C5               [11]  250 	push	bc
    000000C6 21 00 01         [10]  251 	ld	hl, #0x0100
    000000C9 E5               [11]  252 	push	hl
    000000CA AF               [ 4]  253 	xor	a, a
    000000CB F5               [11]  254 	push	af
    000000CC 33               [ 6]  255 	inc	sp
    000000CD 26 BF            [ 7]  256 	ld	h, #0xbf
    000000CF CDr00r00         [17]  257 	call	_cpct_memset
                                    258 ;src/lib/asic.c:79: cpct_waitVSYNCStart();
    000000D2 CDr00r00         [17]  259 	call	_cpct_waitVSYNCStart
                                    260 ;src/lib/asic.c:80: cpct_asicPageDisconnect();
    000000D5 CDr00r00         [17]  261 	call	_cpct_asicPageDisconnect
    000000D8 C1               [10]  262 	pop	bc
                                    263 ;src/lib/asic.c:81: cpct_zx7b_decrunch_s(dst_end, sprite_table[frame].end);
    000000D9 68               [ 4]  264 	ld	l, b
    000000DA 26 00            [ 7]  265 	ld	h, #0x00
    000000DC 29               [11]  266 	add	hl, hl
    000000DD 29               [11]  267 	add	hl, hl
    000000DE 7D               [ 4]  268 	ld	a, l
    000000DF 5C               [ 4]  269 	ld	e, h
    000000E0 21 02 00         [10]  270 	ld	hl, #2
    000000E3 39               [11]  271 	add	hl, sp
    000000E4 86               [ 7]  272 	add	a, (hl)
    000000E5 23               [ 6]  273 	inc	hl
    000000E6 47               [ 4]  274 	ld	b, a
    000000E7 7B               [ 4]  275 	ld	a, e
    000000E8 8E               [ 7]  276 	adc	a, (hl)
    000000E9 67               [ 4]  277 	ld	h, a
    000000EA 68               [ 4]  278 	ld	l, b
    000000EB 23               [ 6]  279 	inc	hl
    000000EC 23               [ 6]  280 	inc	hl
    000000ED 5E               [ 7]  281 	ld	e, (hl)
    000000EE 23               [ 6]  282 	inc	hl
    000000EF 56               [ 7]  283 	ld	d, (hl)
    000000F0 C5               [11]  284 	push	bc
    000000F1 21 FF BF         [10]  285 	ld	hl, #0xbfff
    000000F4 CDr00r00         [17]  286 	call	_cpct_zx7b_decrunch_s
                                    287 ;src/lib/asic.c:82: cpct_asicPageConnect();
    000000F7 CDr00r00         [17]  288 	call	_cpct_asicPageConnect
    000000FA C1               [10]  289 	pop	bc
                                    290 ;src/lib/asic.c:84: if (flip_horizontal)
    000000FB 21 04 00         [10]  291 	ld	hl, #4
    000000FE 39               [11]  292 	add	hl, sp
    000000FF CB 46            [12]  293 	bit	0, (hl)
    00000101 28 08            [12]  294 	jr	Z, 00102$
                                    295 ;src/lib/asic.c:85: a_sprite_flip_horizontal_inplace(HW_SPRITE_BUFFER);
    00000103 C5               [11]  296 	push	bc
    00000104 21 00 BF         [10]  297 	ld	hl, #0xbf00
    00000107 CDr00r00         [17]  298 	call	_a_sprite_flip_horizontal_inplace
    0000010A C1               [10]  299 	pop	bc
    0000010B                        300 00102$:
                                    301 ;src/lib/asic.c:87: cpct_asicCopySpriteData(hw_id, HW_SPRITE_BUFFER);
    0000010B 26 00            [ 7]  302 	ld	h, #0x00
    0000010D 11 00 BF         [10]  303 	ld	de, #0xbf00
    00000110 69               [ 4]  304 	ld	l, c
    00000111 CDr00r00         [17]  305 	call	_cpct_asicCopySpriteData
                                    306 ;src/lib/asic.c:88: }
    00000114 E1               [10]  307 	pop	hl
    00000115 F1               [10]  308 	pop	af
    00000116 33               [ 6]  309 	inc	sp
    00000117 E9               [ 4]  310 	jp	(hl)
                                    311 ;src/lib/asic.c:90: void a_load_sprite_set(const sprite_data_t *sprites,
                                    312 ;	---------------------------------
                                    313 ; Function a_load_sprite_set
                                    314 ; ---------------------------------
    00000118                        315 _a_load_sprite_set::
    00000118 DD E5            [15]  316 	push	ix
    0000011A DD 21 00 00      [14]  317 	ld	ix,#0
    0000011E DD 39            [15]  318 	add	ix,sp
    00000120 F5               [11]  319 	push	af
    00000121 3B               [ 6]  320 	dec	sp
    00000122 E3               [19]  321 	ex	(sp), hl
                                    322 ;src/lib/asic.c:93: for (u8 i = 0; i < count; i++) {
    00000123 DD 36 FF 00      [19]  323 	ld	-1 (ix), #0x00
    00000127                        324 00106$:
    00000127 DD 7E FF         [19]  325 	ld	a, -1 (ix)
    0000012A DD 96 04         [19]  326 	sub	a, 4 (ix)
    0000012D 30 61            [12]  327 	jr	NC, 00108$
                                    328 ;src/lib/asic.c:95: if (layout) {
    0000012F 7A               [ 4]  329 	ld	a, d
    00000130 B3               [ 4]  330 	or	a, e
    00000131 28 33            [12]  331 	jr	Z, 00102$
                                    332 ;src/lib/asic.c:96: const sprite_load_t *s = &layout[i];
    00000133 DD 6E FF         [19]  333 	ld	l, -1 (ix)
    00000136 26 00            [ 7]  334 	ld	h, #0x00
    00000138 29               [11]  335 	add	hl, hl
    00000139 19               [11]  336 	add	hl, de
                                    337 ;src/lib/asic.c:98: s->hw_id, s->frame, sprites, flip_horizontal);
    0000013A 4D               [ 4]  338 	ld	c,l
    0000013B 44               [ 4]  339 	ld	b,h
    0000013C 23               [ 6]  340 	inc	hl
    0000013D 6E               [ 7]  341 	ld	l, (hl)
    0000013E 0A               [ 7]  342 	ld	a, (bc)
    0000013F C5               [11]  343 	push	bc
    00000140 D5               [11]  344 	push	de
    00000141 DD 66 05         [19]  345 	ld	h, 5 (ix)
    00000144 E5               [11]  346 	push	hl
    00000145 33               [ 6]  347 	inc	sp
    00000146 E5               [11]  348 	push	hl
    00000147 DD 6E FD         [19]  349 	ld	l, -3 (ix)
    0000014A DD 66 FE         [19]  350 	ld	h, -2 (ix)
    0000014D E3               [19]  351 	ex	(sp), hl
    0000014E CDrC3r00         [17]  352 	call	_a_load_hw_sprite
    00000151 D1               [10]  353 	pop	de
    00000152 C1               [10]  354 	pop	bc
                                    355 ;src/lib/asic.c:99: cpct_asicSetSpriteZoom(s->hw_id, 2, 1);
    00000153 0A               [ 7]  356 	ld	a, (bc)
    00000154 26 00            [ 7]  357 	ld	h, #0x00
    00000156 D5               [11]  358 	push	de
    00000157 06 01            [ 7]  359 	ld	b, #0x01
    00000159 C5               [11]  360 	push	bc
    0000015A 33               [ 6]  361 	inc	sp
    0000015B 06 02            [ 7]  362 	ld	b, #0x02
    0000015D C5               [11]  363 	push	bc
    0000015E 33               [ 6]  364 	inc	sp
    0000015F 6F               [ 4]  365 	ld	l, a
    00000160 CDr00r00         [17]  366 	call	_cpct_asicSetSpriteZoom
    00000163 D1               [10]  367 	pop	de
    00000164 18 25            [12]  368 	jr	00107$
    00000166                        369 00102$:
                                    370 ;src/lib/asic.c:101: a_load_hw_sprite(i, i, sprites, flip_horizontal);
    00000166 D5               [11]  371 	push	de
    00000167 DD 7E 05         [19]  372 	ld	a, 5 (ix)
    0000016A F5               [11]  373 	push	af
    0000016B 33               [ 6]  374 	inc	sp
    0000016C DD 6E FD         [19]  375 	ld	l, -3 (ix)
    0000016F DD 66 FE         [19]  376 	ld	h, -2 (ix)
    00000172 E5               [11]  377 	push	hl
    00000173 DD 6E FF         [19]  378 	ld	l, -1 (ix)
    00000176 DD 7E FF         [19]  379 	ld	a, -1 (ix)
    00000179 CDrC3r00         [17]  380 	call	_a_load_hw_sprite
    0000017C D1               [10]  381 	pop	de
                                    382 ;src/lib/asic.c:102: cpct_asicSetSpriteZoom(i, 2, 1);
    0000017D DD 6E FF         [19]  383 	ld	l, -1 (ix)
    00000180 26 00            [ 7]  384 	ld	h, #0x00
    00000182 D5               [11]  385 	push	de
    00000183 11 02 01         [10]  386 	ld	de, #0x102
    00000186 D5               [11]  387 	push	de
    00000187 CDr00r00         [17]  388 	call	_cpct_asicSetSpriteZoom
    0000018A D1               [10]  389 	pop	de
    0000018B                        390 00107$:
                                    391 ;src/lib/asic.c:93: for (u8 i = 0; i < count; i++) {
    0000018B DD 34 FF         [23]  392 	inc	-1 (ix)
    0000018E 18 97            [12]  393 	jr	00106$
    00000190                        394 00108$:
                                    395 ;src/lib/asic.c:105: }
    00000190 DD F9            [10]  396 	ld	sp, ix
    00000192 DD E1            [14]  397 	pop	ix
    00000194 E1               [10]  398 	pop	hl
    00000195 F1               [10]  399 	pop	af
    00000196 E9               [ 4]  400 	jp	(hl)
                                    401 ;src/lib/asic.c:107: void a_clear_sprites(void) {
                                    402 ;	---------------------------------
                                    403 ; Function a_clear_sprites
                                    404 ; ---------------------------------
    00000197                        405 _a_clear_sprites::
                                    406 ;src/lib/asic.c:109: for (u8 i = 0; i < 16; i++) {
    00000197 0E 00            [ 7]  407 	ld	c, #0x00
    00000199                        408 00103$:
    00000199 79               [ 4]  409 	ld	a, c
    0000019A D6 10            [ 7]  410 	sub	a, #0x10
    0000019C D0               [11]  411 	ret	NC
                                    412 ;src/lib/asic.c:110: cpct_asicSetSpriteZoom(i, 0, 0);
    0000019D 69               [ 4]  413 	ld	l, c
    0000019E 26 00            [ 7]  414 	ld	h, #0x00
    000001A0 E5               [11]  415 	push	hl
    000001A1 C5               [11]  416 	push	bc
    000001A2 11 00 00         [10]  417 	ld	de, #0x00
    000001A5 D5               [11]  418 	push	de
    000001A6 CDr00r00         [17]  419 	call	_cpct_asicSetSpriteZoom
    000001A9 C1               [10]  420 	pop	bc
    000001AA E1               [10]  421 	pop	hl
                                    422 ;src/lib/asic.c:111: cpct_asicSetSpritePosition(i, -64, -64);
    000001AB C5               [11]  423 	push	bc
    000001AC 11 C0 FF         [10]  424 	ld	de, #0xffc0
    000001AF D5               [11]  425 	push	de
    000001B0 CDr00r00         [17]  426 	call	_cpct_asicSetSpritePosition
    000001B3 C1               [10]  427 	pop	bc
                                    428 ;src/lib/asic.c:109: for (u8 i = 0; i < 16; i++) {
    000001B4 0C               [ 4]  429 	inc	c
                                    430 ;src/lib/asic.c:113: }
    000001B5 18 E2            [12]  431 	jr	00103$
                                    432 ;src/lib/asic.c:115: void a_load_sprite_range(u8 slot_start, const u8 *const *sprites, u8 count) {
                                    433 ;	---------------------------------
                                    434 ; Function a_load_sprite_range
                                    435 ; ---------------------------------
    000001B7                        436 _a_load_sprite_range::
    000001B7 CDr00r00         [17]  437 	call	___sdcc_enter_ix
    000001BA F5               [11]  438 	push	af
    000001BB F5               [11]  439 	push	af
    000001BC DD 77 FE         [19]  440 	ld	-2 (ix), a
    000001BF 33               [ 6]  441 	inc	sp
    000001C0 33               [ 6]  442 	inc	sp
    000001C1 D5               [11]  443 	push	de
                                    444 ;src/lib/asic.c:117: for (u8 i = 0; i < count; i++) {
    000001C2 DD 36 FF 00      [19]  445 	ld	-1 (ix), #0x00
    000001C6                        446 00103$:
    000001C6 DD 7E FF         [19]  447 	ld	a, -1 (ix)
    000001C9 DD 96 04         [19]  448 	sub	a, 4 (ix)
    000001CC 30 25            [12]  449 	jr	NC, 00105$
                                    450 ;src/lib/asic.c:118: cpct_asicCopySpriteData(slot_start + i, sprites[i]);
    000001CE DD 4E FF         [19]  451 	ld	c, -1 (ix)
    000001D1 06 00            [ 7]  452 	ld	b, #0x00
    000001D3 69               [ 4]  453 	ld	l, c
    000001D4 60               [ 4]  454 	ld	h, b
    000001D5 29               [11]  455 	add	hl, hl
    000001D6 D1               [10]  456 	pop	de
    000001D7 D5               [11]  457 	push	de
    000001D8 19               [11]  458 	add	hl, de
    000001D9 5E               [ 7]  459 	ld	e, (hl)
    000001DA 23               [ 6]  460 	inc	hl
    000001DB 56               [ 7]  461 	ld	d, (hl)
    000001DC DD 6E FE         [19]  462 	ld	l, -2 (ix)
    000001DF 26 00            [ 7]  463 	ld	h, #0x00
    000001E1 09               [11]  464 	add	hl, bc
    000001E2 E5               [11]  465 	push	hl
    000001E3 CDr00r00         [17]  466 	call	_cpct_asicCopySpriteData
    000001E6 E1               [10]  467 	pop	hl
                                    468 ;src/lib/asic.c:119: cpct_asicSetSpriteZoom(slot_start + i, 2, 1);
    000001E7 11 02 01         [10]  469 	ld	de, #0x102
    000001EA D5               [11]  470 	push	de
    000001EB CDr00r00         [17]  471 	call	_cpct_asicSetSpriteZoom
                                    472 ;src/lib/asic.c:117: for (u8 i = 0; i < count; i++) {
    000001EE DD 34 FF         [23]  473 	inc	-1 (ix)
    000001F1 18 D3            [12]  474 	jr	00103$
    000001F3                        475 00105$:
                                    476 ;src/lib/asic.c:121: }
    000001F3 DD F9            [10]  477 	ld	sp, ix
    000001F5 DD E1            [14]  478 	pop	ix
    000001F7 E1               [10]  479 	pop	hl
    000001F8 33               [ 6]  480 	inc	sp
    000001F9 E9               [ 4]  481 	jp	(hl)
                                    482 ;src/lib/asic.c:123: void a_hide_sprite_range(u8 slot_start, u8 count) {
                                    483 ;	---------------------------------
                                    484 ; Function a_hide_sprite_range
                                    485 ; ---------------------------------
    000001FA                        486 _a_hide_sprite_range::
    000001FA DD E5            [15]  487 	push	ix
    000001FC DD 21 00 00      [14]  488 	ld	ix,#0
    00000200 DD 39            [15]  489 	add	ix,sp
    00000202 3B               [ 6]  490 	dec	sp
    00000203 DD 77 FF         [19]  491 	ld	-1 (ix), a
    00000206 4D               [ 4]  492 	ld	c, l
                                    493 ;src/lib/asic.c:125: for (u8 i = 0; i < count; i++) {
    00000207 06 00            [ 7]  494 	ld	b, #0x00
    00000209                        495 00103$:
    00000209 78               [ 4]  496 	ld	a, b
    0000020A 91               [ 4]  497 	sub	a, c
    0000020B 30 15            [12]  498 	jr	NC, 00105$
                                    499 ;src/lib/asic.c:126: cpct_asicSetSpriteZoom(slot_start + i, 0, 0);
    0000020D DD 5E FF         [19]  500 	ld	e, -1 (ix)
    00000210 16 00            [ 7]  501 	ld	d, #0x00
    00000212 68               [ 4]  502 	ld	l, b
    00000213 26 00            [ 7]  503 	ld	h, #0x00
    00000215 19               [11]  504 	add	hl, de
    00000216 C5               [11]  505 	push	bc
    00000217 11 00 00         [10]  506 	ld	de, #0x00
    0000021A D5               [11]  507 	push	de
    0000021B CDr00r00         [17]  508 	call	_cpct_asicSetSpriteZoom
    0000021E C1               [10]  509 	pop	bc
                                    510 ;src/lib/asic.c:125: for (u8 i = 0; i < count; i++) {
    0000021F 04               [ 4]  511 	inc	b
    00000220 18 E7            [12]  512 	jr	00103$
    00000222                        513 00105$:
                                    514 ;src/lib/asic.c:128: }
    00000222 33               [ 6]  515 	inc	sp
    00000223 DD E1            [14]  516 	pop	ix
    00000225 C9               [10]  517 	ret
                                    518 ;src/lib/asic.c:130: void a_clear_all_sprites(void) {
                                    519 ;	---------------------------------
                                    520 ; Function a_clear_all_sprites
                                    521 ; ---------------------------------
    00000226                        522 _a_clear_all_sprites::
                                    523 ;src/lib/asic.c:132: for (u8 i = 0; i < 16; i++) {
    00000226 0E 00            [ 7]  524 	ld	c, #0x00
    00000228                        525 00103$:
    00000228 79               [ 4]  526 	ld	a, c
    00000229 D6 10            [ 7]  527 	sub	a, #0x10
    0000022B D0               [11]  528 	ret	NC
                                    529 ;src/lib/asic.c:133: cpct_asicSetSpriteZoom(i, 0, 0);
    0000022C 69               [ 4]  530 	ld	l, c
    0000022D 26 00            [ 7]  531 	ld	h, #0x00
    0000022F E5               [11]  532 	push	hl
    00000230 C5               [11]  533 	push	bc
    00000231 11 00 00         [10]  534 	ld	de, #0x00
    00000234 D5               [11]  535 	push	de
    00000235 CDr00r00         [17]  536 	call	_cpct_asicSetSpriteZoom
    00000238 C1               [10]  537 	pop	bc
    00000239 E1               [10]  538 	pop	hl
                                    539 ;src/lib/asic.c:134: cpct_asicSetSpritePosition(i, -64, -64);
    0000023A C5               [11]  540 	push	bc
    0000023B 11 C0 FF         [10]  541 	ld	de, #0xffc0
    0000023E D5               [11]  542 	push	de
    0000023F CDr00r00         [17]  543 	call	_cpct_asicSetSpritePosition
    00000242 C1               [10]  544 	pop	bc
                                    545 ;src/lib/asic.c:132: for (u8 i = 0; i < 16; i++) {
    00000243 0C               [ 4]  546 	inc	c
                                    547 ;src/lib/asic.c:136: }
    00000244 18 E2            [12]  548 	jr	00103$
                                    549 ;src/lib/asic.c:138: void a_show_sprite(u8 slot) {
                                    550 ;	---------------------------------
                                    551 ; Function a_show_sprite
                                    552 ; ---------------------------------
    00000246                        553 _a_show_sprite::
                                    554 ;src/lib/asic.c:140: cpct_asicSetSpriteZoom(slot, 2, 1);
    00000246 26 00            [ 7]  555 	ld	h, #0x00
    00000248 16 01            [ 7]  556 	ld	d, #0x01
    0000024A D5               [11]  557 	push	de
    0000024B 33               [ 6]  558 	inc	sp
    0000024C 16 02            [ 7]  559 	ld	d, #0x02
    0000024E D5               [11]  560 	push	de
    0000024F 33               [ 6]  561 	inc	sp
    00000250 6F               [ 4]  562 	ld	l, a
    00000251 CDr00r00         [17]  563 	call	_cpct_asicSetSpriteZoom
                                    564 ;src/lib/asic.c:141: }
    00000254 C9               [10]  565 	ret
                                    566 ;src/lib/asic.c:143: void a_hide_sprite(u8 slot) {
                                    567 ;	---------------------------------
                                    568 ; Function a_hide_sprite
                                    569 ; ---------------------------------
    00000255                        570 _a_hide_sprite::
                                    571 ;src/lib/asic.c:145: cpct_asicSetSpriteZoom(slot, 0, 0);
    00000255 6F               [ 4]  572 	ld	l, a
    00000256 26 00            [ 7]  573 	ld	h, #0x00
    00000258 11 00 00         [10]  574 	ld	de, #0x00
    0000025B D5               [11]  575 	push	de
    0000025C CDr00r00         [17]  576 	call	_cpct_asicSetSpriteZoom
                                    577 ;src/lib/asic.c:146: }
    0000025F C9               [10]  578 	ret
                                    579 ;src/lib/asic.c:148: void a_set_sprite_zoom_range(u8 slot_start, u8 zoom_x, u8 zoom_y, u8 count) {
                                    580 ;	---------------------------------
                                    581 ; Function a_set_sprite_zoom_range
                                    582 ; ---------------------------------
    00000260                        583 _a_set_sprite_zoom_range::
    00000260 DD E5            [15]  584 	push	ix
    00000262 DD 21 00 00      [14]  585 	ld	ix,#0
    00000266 DD 39            [15]  586 	add	ix,sp
    00000268 3B               [ 6]  587 	dec	sp
    00000269 DD 77 FF         [19]  588 	ld	-1 (ix), a
    0000026C 45               [ 4]  589 	ld	b, l
                                    590 ;src/lib/asic.c:150: for (u8 i = 0; i < count; i++)
    0000026D 0E 00            [ 7]  591 	ld	c, #0x00
    0000026F                        592 00103$:
    0000026F 79               [ 4]  593 	ld	a, c
    00000270 DD 96 05         [19]  594 	sub	a, 5 (ix)
    00000273 30 18            [12]  595 	jr	NC, 00105$
                                    596 ;src/lib/asic.c:151: cpct_asicSetSpriteZoom(slot_start + i, zoom_x, zoom_y);
    00000275 DD 5E FF         [19]  597 	ld	e, -1 (ix)
    00000278 16 00            [ 7]  598 	ld	d, #0x00
    0000027A 69               [ 4]  599 	ld	l, c
    0000027B 26 00            [ 7]  600 	ld	h, #0x00
    0000027D 19               [11]  601 	add	hl, de
    0000027E C5               [11]  602 	push	bc
    0000027F DD 7E 04         [19]  603 	ld	a, 4 (ix)
    00000282 F5               [11]  604 	push	af
    00000283 33               [ 6]  605 	inc	sp
    00000284 C5               [11]  606 	push	bc
    00000285 33               [ 6]  607 	inc	sp
    00000286 CDr00r00         [17]  608 	call	_cpct_asicSetSpriteZoom
    00000289 C1               [10]  609 	pop	bc
                                    610 ;src/lib/asic.c:150: for (u8 i = 0; i < count; i++)
    0000028A 0C               [ 4]  611 	inc	c
    0000028B 18 E2            [12]  612 	jr	00103$
    0000028D                        613 00105$:
                                    614 ;src/lib/asic.c:152: }
    0000028D 33               [ 6]  615 	inc	sp
    0000028E DD E1            [14]  616 	pop	ix
    00000290 E1               [10]  617 	pop	hl
    00000291 F1               [10]  618 	pop	af
    00000292 E9               [ 4]  619 	jp	(hl)
                                    620 ;src/lib/asic.c:154: void a_page_connect_safe(void) {
                                    621 ;	---------------------------------
                                    622 ; Function a_page_connect_safe
                                    623 ; ---------------------------------
    00000293                        624 _a_page_connect_safe::
                                    625 ;src/lib/asic.c:156: if (!a_asic_paged) {
    00000293 21r00r00         [10]  626 	ld	hl, #_a_asic_paged
    00000296 CB 46            [12]  627 	bit	0, (hl)
    00000298 C0               [11]  628 	ret	NZ
                                    629 ;src/lib/asic.c:157: cpct_asicPageConnect();
    00000299 CDr00r00         [17]  630 	call	_cpct_asicPageConnect
                                    631 ;src/lib/asic.c:158: a_asic_paged = true;
    0000029C 21r00r00         [10]  632 	ld	hl, #_a_asic_paged
    0000029F 36 01            [10]  633 	ld	(hl), #0x01
                                    634 ;src/lib/asic.c:160: }
    000002A1 C9               [10]  635 	ret
                                    636 ;src/lib/asic.c:162: void a_page_disconnect_safe(void) {
                                    637 ;	---------------------------------
                                    638 ; Function a_page_disconnect_safe
                                    639 ; ---------------------------------
    000002A2                        640 _a_page_disconnect_safe::
                                    641 ;src/lib/asic.c:164: if (a_asic_paged) {
    000002A2 21r00r00         [10]  642 	ld	hl, #_a_asic_paged
    000002A5 CB 46            [12]  643 	bit	0, (hl)
    000002A7 C8               [11]  644 	ret	Z
                                    645 ;src/lib/asic.c:165: cpct_asicPageDisconnect();
    000002A8 CDr00r00         [17]  646 	call	_cpct_asicPageDisconnect
                                    647 ;src/lib/asic.c:166: a_asic_paged = false;
    000002AB AF               [ 4]  648 	xor	a, a
    000002AC 32r00r00         [13]  649 	ld	(_a_asic_paged+0), a
                                    650 ;src/lib/asic.c:168: }
    000002AF C9               [10]  651 	ret
                                    652 	.area _CODE
                                    653 	.area _INITIALIZER
    00000000                        654 __xinit__a_asic_paged:
    00000000 00                     655 	.db #0x00	;  0
                                    656 	.area _CABS (ABS)
