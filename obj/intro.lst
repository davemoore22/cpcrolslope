                                      1 ;--------------------------------------------------------
                                      2 ; File Created by SDCC : free open source ISO C Compiler
                                      3 ; Version 4.5.0 #15242 (Linux)
                                      4 ;--------------------------------------------------------
                                      5 	.module intro
                                      6 	
                                      7 	.optsdcc -mz80 sdcccall(1)
                                      8 ;--------------------------------------------------------
                                      9 ; Public variables in this module
                                     10 ;--------------------------------------------------------
                                     11 	.globl _v_snowball_set_frame
                                     12 	.globl _v_spider_set_frame
                                     13 	.globl _v_set_intro_spider_sprite_pos
                                     14 	.globl _v_set_intro_snowball_sprite_pos
                                     15 	.globl _v_set_intro_ghost_sprite_pos
                                     16 	.globl _v_set_intro_roland_sprite_pos
                                     17 	.globl _v_clear_screen
                                     18 	.globl _v_blank_screen_mode_1
                                     19 	.globl _u_wait_for_duration_or_kp
                                     20 	.globl _u_clock_interrupt
                                     21 	.globl _d_gfx_decompress_to_screen
                                     22 	.globl _d_load
                                     23 	.globl _a_page_disconnect_safe
                                     24 	.globl _a_page_connect_safe
                                     25 	.globl _a_load_ghost_sprites
                                     26 	.globl _a_load_snowball_sprites
                                     27 	.globl _a_load_spider_sprites
                                     28 	.globl _a_load_roland_sprites
                                     29 	.globl _a_clear_sprites
                                     30 	.globl _a_set_hardware_sprite_palette
                                     31 	.globl _cpct_asicRemoveLinesInterruptHandler
                                     32 	.globl _cpct_asicSetLinesInterruptHandler
                                     33 	.globl _cpct_asicPageDisconnect
                                     34 	.globl _cpct_asicPageConnect
                                     35 	.globl _cpct_asicSetPalette
                                     36 	.globl _cpct_asicSetBorder
                                     37 	.globl _cpct_asicSetSpriteZoom
                                     38 	.globl _cpct_waitVSYNCStart
                                     39 	.globl _cpct_waitVSYNC
                                     40 	.globl _cpct_drawSprite
                                     41 	.globl _cpct_isAnyKeyPressed
                                     42 	.globl _cpct_scanKeyboard_if
                                     43 	.globl _g_ghost_bob
                                     44 	.globl _i_start
                                     45 	.globl _i_stop
                                     46 ;--------------------------------------------------------
                                     47 ; special function registers
                                     48 ;--------------------------------------------------------
                                     49 ;--------------------------------------------------------
                                     50 ; ram data
                                     51 ;--------------------------------------------------------
                                     52 	.area _DATA
                                     53 ;--------------------------------------------------------
                                     54 ; ram data
                                     55 ;--------------------------------------------------------
                                     56 	.area _INITIALIZED
    00000000                         57 _i_int_idx:
    00000000                         58 	.ds 1
    00000001                         59 _i_frame_c:
    00000001                         60 	.ds 1
    00000002                         61 _show_roland:
    00000002                         62 	.ds 1
    00000003                         63 _g_ghost_bob::
    00000003                         64 	.ds 2
                                     65 ;--------------------------------------------------------
                                     66 ; absolute external ram data
                                     67 ;--------------------------------------------------------
                                     68 	.area _DABS (ABS)
                                     69 ;--------------------------------------------------------
                                     70 ; global & static initialisations
                                     71 ;--------------------------------------------------------
                                     72 	.area _HOME
                                     73 	.area _GSINIT
                                     74 	.area _GSFINAL
                                     75 	.area _GSINIT
                                     76 ;--------------------------------------------------------
                                     77 ; Home
                                     78 ;--------------------------------------------------------
                                     79 	.area _HOME
                                     80 	.area _HOME
                                     81 ;--------------------------------------------------------
                                     82 ; code
                                     83 ;--------------------------------------------------------
                                     84 	.area _CODE
                                     85 ;src/intro.c:107: void i_start(void) {
                                     86 ;	---------------------------------
                                     87 ; Function i_start
                                     88 ; ---------------------------------
    00000000                         89 _i_start::
                                     90 ;src/intro.c:110: a_clear_sprites();
    00000000 CDr00r00         [17]   91 	call	_a_clear_sprites
                                     92 ;src/intro.c:111: v_blank_screen_mode_1();
    00000003 CDr00r00         [17]   93 	call	_v_blank_screen_mode_1
                                     94 ;src/intro.c:112: v_clear_screen();
    00000006 CDr00r00         [17]   95 	call	_v_clear_screen
                                     96 ;src/intro.c:114: show_roland = false;
    00000009 AF               [ 4]   97 	xor	a, a
    0000000A 32r02r00         [13]   98 	ld	(_show_roland+0), a
                                     99 ;src/intro.c:115: i_draw_bg();
    0000000D CDrE8r00         [17]  100 	call	_i_draw_bg
                                    101 ;src/intro.c:118: i_reset_timers();
    00000010 CDr11r01         [17]  102 	call	_i_reset_timers
                                    103 ;src/intro.c:119: i_add_interrupt();
    00000013 CDr19r01         [17]  104 	call	_i_add_interrupt
                                    105 ;src/intro.c:120: cpct_asicSetBorder(cpctm_asicColor(15, 15, 15));
    00000016 21 FF 0F         [10]  106 	ld	hl, #0x0fff
    00000019 CDr00r00         [17]  107 	call	_cpct_asicSetBorder
                                    108 ;src/intro.c:123: i_ani_roland_l(140, INTRO_SPEED_LEFT);
    0000001C 2E 08            [ 7]  109 	ld	l, #0x08
    0000001E 3E 8C            [ 7]  110 	ld	a, #0x8c
    00000020 CDrD3r02         [17]  111 	call	_i_ani_roland_l
                                    112 ;src/intro.c:124: if (g_skip)
    00000023 21r00r00         [10]  113 	ld	hl, #_g_skip
    00000026 CB 46            [12]  114 	bit	0, (hl)
                                    115 ;src/intro.c:125: return;
    00000028 C0               [11]  116 	ret	NZ
                                    117 ;src/intro.c:126: i_ani_spider_l(144, INTRO_SPEED_LEFT);
    00000029 2E 08            [ 7]  118 	ld	l, #0x08
    0000002B 3E 90            [ 7]  119 	ld	a, #0x90
    0000002D CDr49r04         [17]  120 	call	_i_ani_spider_l
                                    121 ;src/intro.c:127: if (g_skip)
    00000030 21r00r00         [10]  122 	ld	hl, #_g_skip
    00000033 CB 46            [12]  123 	bit	0, (hl)
                                    124 ;src/intro.c:128: return;
    00000035 C0               [11]  125 	ret	NZ
                                    126 ;src/intro.c:129: show_roland = true;
    00000036 21r02r00         [10]  127 	ld	hl, #_show_roland
    00000039 36 01            [10]  128 	ld	(hl), #0x01
                                    129 ;src/intro.c:130: i_ani_roland_r(140, INTRO_SPEED_RIGHT);
    0000003B 2E 08            [ 7]  130 	ld	l, #0x08
    0000003D 3E 8C            [ 7]  131 	ld	a, #0x8c
    0000003F CDrF8r02         [17]  132 	call	_i_ani_roland_r
                                    133 ;src/intro.c:131: if (g_skip)
    00000042 21r00r00         [10]  134 	ld	hl, #_g_skip
    00000045 CB 46            [12]  135 	bit	0, (hl)
                                    136 ;src/intro.c:132: return;
    00000047 C0               [11]  137 	ret	NZ
                                    138 ;src/intro.c:133: i_ani_snowball_r(140, INTRO_SPEED_RIGHT);
    00000048 2E 08            [ 7]  139 	ld	l, #0x08
    0000004A 3E 8C            [ 7]  140 	ld	a, #0x8c
    0000004C CDrF7r03         [17]  141 	call	_i_ani_snowball_r
                                    142 ;src/intro.c:134: if (g_skip)
    0000004F 21r00r00         [10]  143 	ld	hl, #_g_skip
    00000052 CB 46            [12]  144 	bit	0, (hl)
                                    145 ;src/intro.c:135: return;
    00000054 C0               [11]  146 	ret	NZ
                                    147 ;src/intro.c:138: cpct_waitVSYNCStart();
    00000055 CDr00r00         [17]  148 	call	_cpct_waitVSYNCStart
                                    149 ;src/intro.c:139: cpct_asicPageDisconnect();
    00000058 CDr00r00         [17]  150 	call	_cpct_asicPageDisconnect
                                    151 ;src/intro.c:140: cpct_drawSprite(img_in, v_pos, 10, 24);
    0000005B 21 0A 18         [10]  152 	ld	hl, #0x180a
    0000005E E5               [11]  153 	push	hl
    0000005F 11 03 F2         [10]  154 	ld	de, #0xf203
    00000062 21r00r00         [10]  155 	ld	hl, #_img_in
    00000065 CDr00r00         [17]  156 	call	_cpct_drawSprite
                                    157 ;src/intro.c:141: cpct_asicPageConnect();
    00000068 CDr00r00         [17]  158 	call	_cpct_asicPageConnect
                                    159 ;src/intro.c:143: i_ani_roland_l(140, INTRO_SPEED_LEFT);
    0000006B 2E 08            [ 7]  160 	ld	l, #0x08
    0000006D 3E 8C            [ 7]  161 	ld	a, #0x8c
    0000006F CDrD3r02         [17]  162 	call	_i_ani_roland_l
                                    163 ;src/intro.c:144: if (g_skip)
    00000072 21r00r00         [10]  164 	ld	hl, #_g_skip
    00000075 CB 46            [12]  165 	bit	0, (hl)
                                    166 ;src/intro.c:145: return;
    00000077 C0               [11]  167 	ret	NZ
                                    168 ;src/intro.c:146: i_ani_ghost_l(124, INTRO_SPEED_LEFT);
    00000078 2E 08            [ 7]  169 	ld	l, #0x08
    0000007A 3E 7C            [ 7]  170 	ld	a, #0x7c
    0000007C CDrABr02         [17]  171 	call	_i_ani_ghost_l
                                    172 ;src/intro.c:147: if (g_skip)
    0000007F 21r00r00         [10]  173 	ld	hl, #_g_skip
    00000082 CB 46            [12]  174 	bit	0, (hl)
    00000084 C8               [11]  175 	ret	Z
                                    176 ;src/intro.c:148: return;
                                    177 ;src/intro.c:149: }
    00000085 C9               [10]  178 	ret
    00000086                        179 _ghost_sine:
    00000086 00                     180 	.db #0x00	;  0
    00000087 01                     181 	.db #0x01	;  1
    00000088 02                     182 	.db #0x02	;  2
    00000089 03                     183 	.db #0x03	;  3
    0000008A 04                     184 	.db #0x04	;  4
    0000008B 03                     185 	.db #0x03	;  3
    0000008C 02                     186 	.db #0x02	;  2
    0000008D 01                     187 	.db #0x01	;  1
    0000008E 00                     188 	.db #0x00	;  0
    0000008F FF                     189 	.db #0xff	; -1
    00000090 FE                     190 	.db #0xfe	; -2
    00000091 FD                     191 	.db #0xfd	; -3
    00000092 FC                     192 	.db #0xfc	; -4
    00000093 FD                     193 	.db #0xfd	; -3
    00000094 FE                     194 	.db #0xfe	; -2
    00000095 FF                     195 	.db #0xff	; -1
    00000096 00                     196 	.db #0x00	;  0
    00000097 01                     197 	.db #0x01	;  1
    00000098 02                     198 	.db #0x02	;  2
    00000099 03                     199 	.db #0x03	;  3
    0000009A 04                     200 	.db #0x04	;  4
    0000009B 03                     201 	.db #0x03	;  3
    0000009C 02                     202 	.db #0x02	;  2
    0000009D 01                     203 	.db #0x01	;  1
    0000009E 00                     204 	.db #0x00	;  0
    0000009F FF                     205 	.db #0xff	; -1
    000000A0 FE                     206 	.db #0xfe	; -2
    000000A1 FD                     207 	.db #0xfd	; -3
    000000A2 FC                     208 	.db #0xfc	; -4
    000000A3 FD                     209 	.db #0xfd	; -3
    000000A4 FE                     210 	.db #0xfe	; -2
    000000A5 FF                     211 	.db #0xff	; -1
    000000A6                        212 _i_pal_in:
    000000A6 FF 0F                  213 	.dw #0x0fff
    000000A8 FF 0B                  214 	.dw #0x0bff
    000000AA 00 00                  215 	.dw #0x0000
    000000AC FF 05                  216 	.dw #0x05ff
    000000AE                        217 _i_pal_ice:
    000000AE 7F 0A                  218 	.dw #0x0a7f
    000000B0 AF 0E                  219 	.dw #0x0eaf
    000000B2 5E 08                  220 	.dw #0x085e
    000000B4 DF 0E                  221 	.dw #0x0edf
    000000B6                        222 _i_pal_trees:
    000000B6 FF 0F                  223 	.dw #0x0fff
    000000B8 68 0A                  224 	.dw #0x0a68
    000000BA 11 04                  225 	.dw #0x0411
    000000BC 35 07                  226 	.dw #0x0735
    000000BE                        227 _i_pal_blank_white:
    000000BE FF 0F                  228 	.dw #0x0fff
    000000C0 FF 0F                  229 	.dw #0x0fff
    000000C2 FF 0F                  230 	.dw #0x0fff
    000000C4 FF 0F                  231 	.dw #0x0fff
    000000C6                        232 _i_pal_blank_ice:
    000000C6 7F 0A                  233 	.dw #0x0a7f
    000000C8 7F 0A                  234 	.dw #0x0a7f
    000000CA 7F 0A                  235 	.dw #0x0a7f
    000000CC 7F 0A                  236 	.dw #0x0a7f
    000000CE                        237 _i_pal_top:
    000000CE FF 0F                  238 	.dw #0x0fff
    000000D0 7D 07                  239 	.dw #0x077d
    000000D2 14 01                  240 	.dw #0x0114
    000000D4 9B 09                  241 	.dw #0x099b
                                    242 ;src/intro.c:152: void i_stop(void) {
                                    243 ;	---------------------------------
                                    244 ; Function i_stop
                                    245 ; ---------------------------------
    000000D6                        246 _i_stop::
                                    247 ;src/intro.c:154: u_wait_for_duration_or_kp(5);
    000000D6 21 05 00         [10]  248 	ld	hl, #0x0005
    000000D9 CDr00r00         [17]  249 	call	_u_wait_for_duration_or_kp
                                    250 ;src/intro.c:156: v_clear_screen();
    000000DC CDr00r00         [17]  251 	call	_v_clear_screen
                                    252 ;src/intro.c:158: i_remove_interrupt();
    000000DF CDr30r01         [17]  253 	call	_i_remove_interrupt
                                    254 ;src/intro.c:159: v_blank_screen_mode_1();
    000000E2 CDr00r00         [17]  255 	call	_v_blank_screen_mode_1
                                    256 ;src/intro.c:160: v_clear_screen();
                                    257 ;src/intro.c:161: }
    000000E5 C3r00r00         [10]  258 	jp	_v_clear_screen
                                    259 ;src/intro.c:163: static void i_draw_bg(void) {
                                    260 ;	---------------------------------
                                    261 ; Function i_draw_bg
                                    262 ; ---------------------------------
    000000E8                        263 _i_draw_bg:
                                    264 ;src/intro.c:165: if (HW_HAS_128K(g_hw))
    000000E8 3Ar00r00         [13]  265 	ld	a, (_g_hw)
    000000EB E6 03            [ 7]  266 	and	a, #0x03
    000000ED D6 01            [ 7]  267 	sub	a, #0x01
    000000EF 38 05            [12]  268 	jr	C, 00102$
                                    269 ;src/intro.c:166: d_gfx_decompress_to_screen(GFX_INTRO);
    000000F1 3E 02            [ 7]  270 	ld	a, #0x02
    000000F3 C3r00r00         [10]  271 	jp	_d_gfx_decompress_to_screen
    000000F6                        272 00102$:
                                    273 ;src/intro.c:168: a_page_disconnect_safe();
    000000F6 CDr00r00         [17]  274 	call	_a_page_disconnect_safe
                                    275 ;src/intro.c:169: d_load("INTRO   SCR", VIDEO_MEM_START);
    000000F9 11 00 C0         [10]  276 	ld	de, #0xc000
    000000FC 21r05r01         [10]  277 	ld	hl, #___str_0
    000000FF CDr00r00         [17]  278 	call	_d_load
                                    279 ;src/intro.c:170: a_page_connect_safe();
                                    280 ;src/intro.c:172: }
    00000102 C3r00r00         [10]  281 	jp	_a_page_connect_safe
    00000105                        282 ___str_0:
    00000105 49 4E 54 52 4F 20 20   283 	.ascii "INTRO   SCR"
             20 53 43 52
    00000110 00                     284 	.db 0x00
                                    285 ;src/intro.c:174: static void i_reset_timers(void) {
                                    286 ;	---------------------------------
                                    287 ; Function i_reset_timers
                                    288 ; ---------------------------------
    00000111                        289 _i_reset_timers:
                                    290 ;src/intro.c:176: i_int_idx = 0;
                                    291 ;src/intro.c:177: i_frame_c = 0;
    00000111 AF               [ 4]  292 	xor	a, a
    00000112 32r00r00         [13]  293 	ld	(_i_int_idx+0), a
    00000115 32r01r00         [13]  294 	ld	(_i_frame_c+0), a
                                    295 ;src/intro.c:178: }
    00000118 C9               [10]  296 	ret
                                    297 ;src/intro.c:180: static void i_add_interrupt(void) {
                                    298 ;	---------------------------------
                                    299 ; Function i_add_interrupt
                                    300 ; ---------------------------------
    00000119                        301 _i_add_interrupt:
                                    302 ;src/intro.c:191: cpct_waitVSYNC();
    00000119 CDr00r00         [17]  303 	call	_cpct_waitVSYNC
                                    304 ;src/intro.c:193: cpct_asicSetLinesInterruptHandler(i_interrupt, lines, sizeof(lines));
    0000011C 21 06 00         [10]  305 	ld	hl, #0x0006
    0000011F E5               [11]  306 	push	hl
    00000120 11r2Ar01         [10]  307 	ld	de, #_i_add_interrupt_lines_10000_280
    00000123 21r33r01         [10]  308 	ld	hl, #_i_interrupt
    00000126 CDr00r00         [17]  309 	call	_cpct_asicSetLinesInterruptHandler
                                    310 ;src/intro.c:194: }
    00000129 C9               [10]  311 	ret
    0000012A                        312 _i_add_interrupt_lines_10000_280:
    0000012A 00                     313 	.db #0x00	; 0
    0000012B 32                     314 	.db #0x32	; 50	'2'
    0000012C 50                     315 	.db #0x50	; 80	'P'
    0000012D 78                     316 	.db #0x78	; 120	'x'
    0000012E A9                     317 	.db #0xa9	; 169
    0000012F B8                     318 	.db #0xb8	; 184
                                    319 ;src/intro.c:196: static void i_remove_interrupt(void) {
                                    320 ;	---------------------------------
                                    321 ; Function i_remove_interrupt
                                    322 ; ---------------------------------
    00000130                        323 _i_remove_interrupt:
                                    324 ;src/intro.c:198: cpct_asicRemoveLinesInterruptHandler();
                                    325 ;src/intro.c:199: }
    00000130 C3r00r00         [10]  326 	jp	_cpct_asicRemoveLinesInterruptHandler
                                    327 ;src/intro.c:201: static void i_interrupt(u8 line) __z88dk_fastcall {
                                    328 ;	---------------------------------
                                    329 ; Function i_interrupt
                                    330 ; ---------------------------------
    00000133                        331 _i_interrupt:
    00000133 7D               [ 4]  332 	ld	a, l
                                    333 ;src/intro.c:203: if (line == INTRO_RASTER_TOP) {
    00000134 B7               [ 4]  334 	or	a, a
    00000135 20 19            [12]  335 	jr	NZ, 00129$
                                    336 ;src/intro.c:204: if (!show_roland)
    00000137 21r02r00         [10]  337 	ld	hl, #_show_roland
    0000013A CB 46            [12]  338 	bit	0, (hl)
    0000013C 20 09            [12]  339 	jr	NZ, 00102$
                                    340 ;src/intro.c:205: cpct_asicSetPalette(i_pal_blank_white, 4);
    0000013E 11 04 00         [10]  341 	ld	de, #0x0004
    00000141 21rBEr00         [10]  342 	ld	hl, #_i_pal_blank_white
    00000144 C3r00r00         [10]  343 	jp	_cpct_asicSetPalette
    00000147                        344 00102$:
                                    345 ;src/intro.c:207: cpct_asicSetPalette(i_pal_top, 4);
    00000147 11 04 00         [10]  346 	ld	de, #0x0004
    0000014A 21rCEr00         [10]  347 	ld	hl, #_i_pal_top
    0000014D C3r00r00         [10]  348 	jp	_cpct_asicSetPalette
    00000150                        349 00129$:
                                    350 ;src/intro.c:208: } else if (line == INTRO_RASTER_SLOPES) {
    00000150 FE 32            [ 7]  351 	cp	a, #0x32
    00000152 20 09            [12]  352 	jr	NZ, 00126$
                                    353 ;src/intro.c:209: cpct_asicSetPalette(i_pal_in, 4);
    00000154 11 04 00         [10]  354 	ld	de, #0x0004
    00000157 21rA6r00         [10]  355 	ld	hl, #_i_pal_in
    0000015A C3r00r00         [10]  356 	jp	_cpct_asicSetPalette
    0000015D                        357 00126$:
                                    358 ;src/intro.c:210: } else if (line == INTRO_RASTER_SCENERY) {
    0000015D FE 50            [ 7]  359 	cp	a, #0x50
    0000015F 20 09            [12]  360 	jr	NZ, 00123$
                                    361 ;src/intro.c:211: cpct_asicSetPalette(i_pal_trees, 4);
    00000161 11 04 00         [10]  362 	ld	de, #0x0004
    00000164 21rB6r00         [10]  363 	ld	hl, #_i_pal_trees
    00000167 C3r00r00         [10]  364 	jp	_cpct_asicSetPalette
    0000016A                        365 00123$:
                                    366 ;src/intro.c:212: } else if (line == INTRO_RASTER_DO_STUFF) {
    0000016A FE 78            [ 7]  367 	cp	a, #0x78
    0000016C 20 3D            [12]  368 	jr	NZ, 00120$
                                    369 ;src/intro.c:214: if (i_int_idx == 0) {
    0000016E 3Ar00r00         [13]  370 	ld	a, (_i_int_idx+0)
    00000171 B7               [ 4]  371 	or	a, a
    00000172 20 12            [12]  372 	jr	NZ, 00107$
                                    373 ;src/intro.c:215: if (++i_frame_c == FC_MAX)
    00000174 FD 21r01r00      [14]  374 	ld	iy, #_i_frame_c
    00000178 FD 34 00         [23]  375 	inc	0 (iy)
    0000017B 3Ar01r00         [13]  376 	ld	a, (_i_frame_c+0)
    0000017E D6 32            [ 7]  377 	sub	a, #0x32
    00000180 20 04            [12]  378 	jr	NZ, 00107$
                                    379 ;src/intro.c:216: i_frame_c = 0;
    00000182 FD 36 00 00      [19]  380 	ld	0 (iy), #0x00
    00000186                        381 00107$:
                                    382 ;src/intro.c:219: if (i_int_idx == 1)
    00000186 3Ar00r00         [13]  383 	ld	a, (_i_int_idx+0)
    00000189 3D               [ 4]  384 	dec	a
    0000018A 20 03            [12]  385 	jr	NZ, 00109$
                                    386 ;src/intro.c:220: cpct_scanKeyboard_if();
    0000018C CDr00r00         [17]  387 	call	_cpct_scanKeyboard_if
    0000018F                        388 00109$:
                                    389 ;src/intro.c:222: if (i_int_idx == 2)
    0000018F 3Ar00r00         [13]  390 	ld	a, (_i_int_idx+0)
    00000192 D6 02            [ 7]  391 	sub	a, #0x02
    00000194 20 03            [12]  392 	jr	NZ, 00111$
                                    393 ;src/intro.c:223: u_clock_interrupt();
    00000196 CDr00r00         [17]  394 	call	_u_clock_interrupt
    00000199                        395 00111$:
                                    396 ;src/intro.c:225: if (++i_int_idx == 6)
    00000199 FD 21r00r00      [14]  397 	ld	iy, #_i_int_idx
    0000019D FD 34 00         [23]  398 	inc	0 (iy)
    000001A0 3Ar00r00         [13]  399 	ld	a, (_i_int_idx+0)
    000001A3 D6 06            [ 7]  400 	sub	a, #0x06
    000001A5 C0               [11]  401 	ret	NZ
                                    402 ;src/intro.c:226: i_int_idx = 0;
    000001A6 FD 36 00 00      [19]  403 	ld	0 (iy), #0x00
    000001AA C9               [10]  404 	ret
    000001AB                        405 00120$:
                                    406 ;src/intro.c:227: } else if (line == INTRO_RASTER_ICE) {
    000001AB FE A9            [ 7]  407 	cp	a, #0xa9
    000001AD 20 09            [12]  408 	jr	NZ, 00117$
                                    409 ;src/intro.c:228: cpct_asicSetPalette(i_pal_ice, 4);
    000001AF 11 04 00         [10]  410 	ld	de, #0x0004
    000001B2 21rAEr00         [10]  411 	ld	hl, #_i_pal_ice
    000001B5 C3r00r00         [10]  412 	jp	_cpct_asicSetPalette
    000001B8                        413 00117$:
                                    414 ;src/intro.c:229: } else if (line == INTRO_RASTER_TEXT) {
    000001B8 D6 B8            [ 7]  415 	sub	a, #0xb8
    000001BA C0               [11]  416 	ret	NZ
                                    417 ;src/intro.c:230: cpct_asicSetPalette(i_pal_blank_ice, 4);
    000001BB 11 04 00         [10]  418 	ld	de, #0x0004
    000001BE 21rC6r00         [10]  419 	ld	hl, #_i_pal_blank_ice
                                    420 ;src/intro.c:232: }
    000001C1 C3r00r00         [10]  421 	jp	_cpct_asicSetPalette
                                    422 ;src/intro.c:234: static void i_scroll_sprite_h(i16 start_x, i16 end_x, i16 step, u8 y,
                                    423 ;	---------------------------------
                                    424 ; Function i_scroll_sprite_h
                                    425 ; ---------------------------------
    000001C4                        426 _i_scroll_sprite_h:
    000001C4 DD E5            [15]  427 	push	ix
    000001C6 DD 21 00 00      [14]  428 	ld	ix,#0
    000001CA DD 39            [15]  429 	add	ix,sp
    000001CC F5               [11]  430 	push	af
    000001CD 3B               [ 6]  431 	dec	sp
    000001CE 4B               [ 4]  432 	ld	c, e
    000001CF 42               [ 4]  433 	ld	b, d
                                    434 ;src/intro.c:238: load_fn(reversed);
    000001D0 E5               [11]  435 	push	hl
    000001D1 C5               [11]  436 	push	bc
    000001D2 DD 7E 07         [19]  437 	ld	a, 7 (ix)
    000001D5 DD 6E 08         [19]  438 	ld	l, 8 (ix)
    000001D8 DD 66 09         [19]  439 	ld	h, 9 (ix)
    000001DB CDr00r00         [17]  440 	call	___sdcc_call_hl
                                    441 ;src/intro.c:239: a_set_hardware_sprite_palette(palette);
    000001DE DD 6E 0A         [19]  442 	ld	l, 10 (ix)
    000001E1 DD 66 0B         [19]  443 	ld	h, 11 (ix)
    000001E4 CDr00r00         [17]  444 	call	_a_set_hardware_sprite_palette
    000001E7 C1               [10]  445 	pop	bc
    000001E8 E1               [10]  446 	pop	hl
                                    447 ;src/intro.c:241: for (i16 x = start_x; (step > 0) ? (x <= end_x) : (x >= end_x);
    000001E9 DD 75 FE         [19]  448 	ld	-2 (ix), l
    000001EC DD 74 FF         [19]  449 	ld	-1 (ix), h
    000001EF AF               [ 4]  450 	xor	a, a
    000001F0 DD BE 04         [19]  451 	cp	a, 4 (ix)
    000001F3 DD 9E 05         [19]  452 	sbc	a, 5 (ix)
    000001F6 E2rFBr01         [10]  453 	jp	PO, 00148$
    000001F9 EE 80            [ 7]  454 	xor	a, #0x80
    000001FB                        455 00148$:
    000001FB 07               [ 4]  456 	rlca
    000001FC E6 01            [ 7]  457 	and	a,#0x01
    000001FE DD 77 FD         [19]  458 	ld	-3 (ix), a
    00000201                        459 00107$:
    00000201 DD 7E FD         [19]  460 	ld	a, -3 (ix)
    00000204 B7               [ 4]  461 	or	a, a
    00000205 28 14            [12]  462 	jr	Z, 00111$
    00000207 79               [ 4]  463 	ld	a, c
    00000208 DD 96 FE         [19]  464 	sub	a, -2 (ix)
    0000020B 78               [ 4]  465 	ld	a, b
    0000020C DD 9E FF         [19]  466 	sbc	a, -1 (ix)
    0000020F E2r14r02         [10]  467 	jp	PO, 00149$
    00000212 EE 80            [ 7]  468 	xor	a, #0x80
    00000214                        469 00149$:
    00000214 07               [ 4]  470 	rlca
    00000215 E6 01            [ 7]  471 	and	a,#0x01
    00000217 EE 01            [ 7]  472 	xor	a, #0x01
    00000219 18 12            [12]  473 	jr	00112$
    0000021B                        474 00111$:
    0000021B DD 7E FE         [19]  475 	ld	a, -2 (ix)
    0000021E 91               [ 4]  476 	sub	a, c
    0000021F DD 7E FF         [19]  477 	ld	a, -1 (ix)
    00000222 98               [ 4]  478 	sbc	a, b
    00000223 E2r28r02         [10]  479 	jp	PO, 00150$
    00000226 EE 80            [ 7]  480 	xor	a, #0x80
    00000228                        481 00150$:
    00000228 07               [ 4]  482 	rlca
    00000229 E6 01            [ 7]  483 	and	a,#0x01
    0000022B EE 01            [ 7]  484 	xor	a, #0x01
    0000022D                        485 00112$:
    0000022D B7               [ 4]  486 	or	a, a
    0000022E 28 6E            [12]  487 	jr	Z, 00109$
                                    488 ;src/intro.c:244: pos_fn(x, y, reversed);
    00000230 DD 5E 06         [19]  489 	ld	e, 6 (ix)
    00000233 16 00            [ 7]  490 	ld	d, #0x00
    00000235 C5               [11]  491 	push	bc
    00000236 DD 7E 07         [19]  492 	ld	a, 7 (ix)
    00000239 F5               [11]  493 	push	af
    0000023A 33               [ 6]  494 	inc	sp
    0000023B DD 6E FE         [19]  495 	ld	l, -2 (ix)
    0000023E DD 66 FF         [19]  496 	ld	h, -1 (ix)
    00000241 FD E5            [15]  497 	push	iy
    00000243 E3               [19]  498 	ex	(sp), hl
    00000244 DD 6E 0C         [19]  499 	ld	l, 12 (ix)
    00000247 E3               [19]  500 	ex	(sp), hl
    00000248 E3               [19]  501 	ex	(sp), hl
    00000249 DD 66 0D         [19]  502 	ld	h, 13 (ix)
    0000024C E3               [19]  503 	ex	(sp), hl
    0000024D FD E1            [14]  504 	pop	iy
    0000024F CDr00r00         [17]  505 	call	___sdcc_call_iy
    00000252 C1               [10]  506 	pop	bc
                                    507 ;src/intro.c:246: if (tick_fn)
    00000253 DD 7E 0F         [19]  508 	ld	a, 15 (ix)
    00000256 DD B6 0E         [19]  509 	or	a, 14 (ix)
    00000259 28 19            [12]  510 	jr	Z, 00102$
                                    511 ;src/intro.c:247: tick_fn(tick_state);
    0000025B C5               [11]  512 	push	bc
    0000025C DD 6E 10         [19]  513 	ld	l, 16 (ix)
    0000025F DD 66 11         [19]  514 	ld	h, 17 (ix)
    00000262 FD E5            [15]  515 	push	iy
    00000264 E3               [19]  516 	ex	(sp), hl
    00000265 DD 6E 0E         [19]  517 	ld	l, 14 (ix)
    00000268 E3               [19]  518 	ex	(sp), hl
    00000269 E3               [19]  519 	ex	(sp), hl
    0000026A DD 66 0F         [19]  520 	ld	h, 15 (ix)
    0000026D E3               [19]  521 	ex	(sp), hl
    0000026E FD E1            [14]  522 	pop	iy
    00000270 CDr00r00         [17]  523 	call	___sdcc_call_iy
    00000273 C1               [10]  524 	pop	bc
    00000274                        525 00102$:
                                    526 ;src/intro.c:249: cpct_waitVSYNC();
    00000274 C5               [11]  527 	push	bc
    00000275 CDr00r00         [17]  528 	call	_cpct_waitVSYNC
                                    529 ;src/intro.c:250: if (cpct_isAnyKeyPressed()) {
    00000278 CDr00r00         [17]  530 	call	_cpct_isAnyKeyPressed
    0000027B C1               [10]  531 	pop	bc
    0000027C B7               [ 4]  532 	or	a, a
    0000027D 28 0A            [12]  533 	jr	Z, 00108$
                                    534 ;src/intro.c:251: g_skip = true;
    0000027F FD 21r00r00      [14]  535 	ld	iy, #_g_skip
    00000283 FD 36 00 01      [19]  536 	ld	0 (iy), #0x01
                                    537 ;src/intro.c:252: return;
    00000287 18 15            [12]  538 	jr	00109$
    00000289                        539 00108$:
                                    540 ;src/intro.c:242: x += step) {
    00000289 DD 7E FE         [19]  541 	ld	a, -2 (ix)
    0000028C DD 86 04         [19]  542 	add	a, 4 (ix)
    0000028F DD 77 FE         [19]  543 	ld	-2 (ix), a
    00000292 DD 7E FF         [19]  544 	ld	a, -1 (ix)
    00000295 DD 8E 05         [19]  545 	adc	a, 5 (ix)
    00000298 DD 77 FF         [19]  546 	ld	-1 (ix), a
    0000029B C3r01r02         [10]  547 	jp	00107$
    0000029E                        548 00109$:
                                    549 ;src/intro.c:255: }
    0000029E DD F9            [10]  550 	ld	sp, ix
    000002A0 DD E1            [14]  551 	pop	ix
    000002A2 E1               [10]  552 	pop	hl
    000002A3 F1               [10]  553 	pop	af
    000002A4 F1               [10]  554 	pop	af
    000002A5 F1               [10]  555 	pop	af
    000002A6 F1               [10]  556 	pop	af
    000002A7 F1               [10]  557 	pop	af
    000002A8 F1               [10]  558 	pop	af
    000002A9 F1               [10]  559 	pop	af
    000002AA E9               [ 4]  560 	jp	(hl)
                                    561 ;src/intro.c:257: static void i_ani_ghost_l(u8 y, u8 speed) {
                                    562 ;	---------------------------------
                                    563 ; Function i_ani_ghost_l
                                    564 ; ---------------------------------
    000002AB                        565 _i_ani_ghost_l:
    000002AB 57               [ 4]  566 	ld	d, a
    000002AC 4D               [ 4]  567 	ld	c, l
                                    568 ;src/intro.c:261: v_set_intro_ghost_sprite_pos, i_ghost_tick, (u8 *)&g_ghost_bob);
                                    569 ;src/intro.c:260: a_load_ghost_sprites, ghost_sprites_palette,
                                    570 ;src/intro.c:259: i_scroll_sprite_h(-SPRITE_WIDTH_ZOOM, SCREEN_WIDTH_M2, speed, y, false,
    000002AD 06 00            [ 7]  571 	ld	b, #0x00
    000002AF 21r03r00         [10]  572 	ld	hl, #_g_ghost_bob
    000002B2 E5               [11]  573 	push	hl
    000002B3 21r94r04         [10]  574 	ld	hl, #_i_ghost_tick
    000002B6 E5               [11]  575 	push	hl
    000002B7 21r00r00         [10]  576 	ld	hl, #_v_set_intro_ghost_sprite_pos
    000002BA E5               [11]  577 	push	hl
    000002BB 21r00r00         [10]  578 	ld	hl, #_ghost_sprites_palette
    000002BE E5               [11]  579 	push	hl
    000002BF 21r00r00         [10]  580 	ld	hl, #_a_load_ghost_sprites
    000002C2 E5               [11]  581 	push	hl
    000002C3 AF               [ 4]  582 	xor	a, a
    000002C4 F5               [11]  583 	push	af
    000002C5 33               [ 6]  584 	inc	sp
    000002C6 D5               [11]  585 	push	de
    000002C7 33               [ 6]  586 	inc	sp
    000002C8 C5               [11]  587 	push	bc
    000002C9 11 80 02         [10]  588 	ld	de, #0x0280
    000002CC 21 00 FF         [10]  589 	ld	hl, #0xff00
    000002CF CDrC4r01         [17]  590 	call	_i_scroll_sprite_h
                                    591 ;src/intro.c:262: }
    000002D2 C9               [10]  592 	ret
                                    593 ;src/intro.c:264: static void i_ani_roland_l(u8 y, u8 speed) {
                                    594 ;	---------------------------------
                                    595 ; Function i_ani_roland_l
                                    596 ; ---------------------------------
    000002D3                        597 _i_ani_roland_l:
    000002D3 57               [ 4]  598 	ld	d, a
    000002D4 4D               [ 4]  599 	ld	c, l
                                    600 ;src/intro.c:267: a_load_roland_sprites, roland_sprites_palette,
                                    601 ;src/intro.c:266: i_scroll_sprite_h(-SPRITE_WIDTH_ZOOM, SCREEN_WIDTH_M2, speed, y, false,
    000002D5 06 00            [ 7]  602 	ld	b, #0x00
    000002D7 21 00 00         [10]  603 	ld	hl, #0x0000
    000002DA E5               [11]  604 	push	hl
    000002DB E5               [11]  605 	push	hl
    000002DC 21r00r00         [10]  606 	ld	hl, #_v_set_intro_roland_sprite_pos
    000002DF E5               [11]  607 	push	hl
    000002E0 21r00r00         [10]  608 	ld	hl, #_roland_sprites_palette
    000002E3 E5               [11]  609 	push	hl
    000002E4 21r00r00         [10]  610 	ld	hl, #_a_load_roland_sprites
    000002E7 E5               [11]  611 	push	hl
    000002E8 AF               [ 4]  612 	xor	a, a
    000002E9 F5               [11]  613 	push	af
    000002EA 33               [ 6]  614 	inc	sp
    000002EB D5               [11]  615 	push	de
    000002EC 33               [ 6]  616 	inc	sp
    000002ED C5               [11]  617 	push	bc
    000002EE 11 80 02         [10]  618 	ld	de, #0x0280
    000002F1 21 00 FF         [10]  619 	ld	hl, #0xff00
    000002F4 CDrC4r01         [17]  620 	call	_i_scroll_sprite_h
                                    621 ;src/intro.c:269: }
    000002F7 C9               [10]  622 	ret
                                    623 ;src/intro.c:271: static void i_ani_roland_r(u8 y, u8 speed) {
                                    624 ;	---------------------------------
                                    625 ; Function i_ani_roland_r
                                    626 ; ---------------------------------
    000002F8                        627 _i_ani_roland_r:
    000002F8 47               [ 4]  628 	ld	b, a
                                    629 ;src/intro.c:274: a_load_roland_sprites, roland_sprites_palette,
    000002F9 11r00r00         [10]  630 	ld	de, #_roland_sprites_palette+0
                                    631 ;src/intro.c:273: i_scroll_sprite_h(SCREEN_WIDTH_M2, -SPRITE_WIDTH_ZOOM, -speed, y, true,
    000002FC AF               [ 4]  632 	xor	a, a
    000002FD 67               [ 4]  633 	ld	h, a
    000002FE 95               [ 4]  634 	sub	a, l
    000002FF 4F               [ 4]  635 	ld	c, a
    00000300 9F               [ 4]  636 	sbc	a, a
    00000301 94               [ 4]  637 	sub	a, h
    00000302 21 00 00         [10]  638 	ld	hl, #0x0000
    00000305 E5               [11]  639 	push	hl
    00000306 E5               [11]  640 	push	hl
    00000307 21r00r00         [10]  641 	ld	hl, #_v_set_intro_roland_sprite_pos
    0000030A E5               [11]  642 	push	hl
    0000030B D5               [11]  643 	push	de
    0000030C 21r00r00         [10]  644 	ld	hl, #_a_load_roland_sprites
    0000030F E5               [11]  645 	push	hl
    00000310 26 01            [ 7]  646 	ld	h, #0x01
    00000312 68               [ 4]  647 	ld	l, b
    00000313 E5               [11]  648 	push	hl
    00000314 47               [ 4]  649 	ld	b, a
    00000315 C5               [11]  650 	push	bc
    00000316 11 00 FF         [10]  651 	ld	de, #0xff00
    00000319 21 80 02         [10]  652 	ld	hl, #0x0280
    0000031C CDrC4r01         [17]  653 	call	_i_scroll_sprite_h
                                    654 ;src/intro.c:276: }
    0000031F C9               [10]  655 	ret
                                    656 ;src/intro.c:278: static void i_spider_tick(u8 *state_ptr) {
                                    657 ;	---------------------------------
                                    658 ; Function i_spider_tick
                                    659 ; ---------------------------------
    00000320                        660 _i_spider_tick:
    00000320 DD E5            [15]  661 	push	ix
    00000322 DD 21 00 00      [14]  662 	ld	ix,#0
    00000326 DD 39            [15]  663 	add	ix,sp
    00000328 F5               [11]  664 	push	af
                                    665 ;src/intro.c:280: sprite_anim_state_t *s = (sprite_anim_state_t *)state_ptr;
                                    666 ;src/intro.c:282: if (++s->count == 8) {
    00000329 5D               [ 4]  667 	ld	e, l
    0000032A 54               [ 4]  668 	ld	d, h
    0000032B 23               [ 6]  669 	inc	hl
    0000032C E3               [19]  670 	ex	(sp), hl
    0000032D E1               [10]  671 	pop	hl
    0000032E E5               [11]  672 	push	hl
    0000032F 7E               [ 7]  673 	ld	a, (hl)
    00000330 3C               [ 4]  674 	inc	a
    00000331 E1               [10]  675 	pop	hl
    00000332 E5               [11]  676 	push	hl
    00000333 77               [ 7]  677 	ld	(hl), a
    00000334 D6 08            [ 7]  678 	sub	a, #0x08
    00000336 20 1F            [12]  679 	jr	NZ, 00106$
                                    680 ;src/intro.c:284: v_spider_set_frame(s->frame);
    00000338 6B               [ 4]  681 	ld	l, e
    00000339 62               [ 4]  682 	ld	h, d
    0000033A 7E               [ 7]  683 	ld	a, (hl)
    0000033B E5               [11]  684 	push	hl
    0000033C D5               [11]  685 	push	de
    0000033D CDr00r00         [17]  686 	call	_v_spider_set_frame
    00000340 D1               [10]  687 	pop	de
    00000341 E1               [10]  688 	pop	hl
                                    689 ;src/intro.c:286: s->frame += s->dir;
    00000342 4E               [ 7]  690 	ld	c, (hl)
    00000343 13               [ 6]  691 	inc	de
    00000344 13               [ 6]  692 	inc	de
    00000345 1A               [ 7]  693 	ld	a, (de)
    00000346 81               [ 4]  694 	add	a, c
                                    695 ;src/intro.c:289: if (s->frame == 2 || s->frame == 0)
    00000347 77               [ 7]  696 	ld	(hl), a
    00000348 FE 02            [ 7]  697 	cp	a, #0x02
    0000034A 28 03            [12]  698 	jr	Z, 00101$
    0000034C B7               [ 4]  699 	or	a, a
    0000034D 20 04            [12]  700 	jr	NZ, 00102$
    0000034F                        701 00101$:
                                    702 ;src/intro.c:290: s->dir = -s->dir;
    0000034F 1A               [ 7]  703 	ld	a, (de)
    00000350 ED 44            [ 8]  704 	neg
    00000352 12               [ 7]  705 	ld	(de), a
    00000353                        706 00102$:
                                    707 ;src/intro.c:292: s->count = 0;
    00000353 E1               [10]  708 	pop	hl
    00000354 36 00            [10]  709 	ld	(hl), #0x00
    00000356 E5               [11]  710 	push	hl
    00000357                        711 00106$:
                                    712 ;src/intro.c:294: }
    00000357 F1               [10]  713 	pop	af
    00000358 DD E1            [14]  714 	pop	ix
    0000035A C9               [10]  715 	ret
                                    716 ;src/intro.c:296: static void i_snowball_tick(u8 *state_ptr) {
                                    717 ;	---------------------------------
                                    718 ; Function i_snowball_tick
                                    719 ; ---------------------------------
    0000035B                        720 _i_snowball_tick:
                                    721 ;src/intro.c:298: sprite_anim_state_t *s = (sprite_anim_state_t *)state_ptr;
                                    722 ;src/intro.c:300: if (++s->count == 8) {
    0000035B 4D               [ 4]  723 	ld	c, l
    0000035C 44               [ 4]  724 	ld	b, h
    0000035D 03               [ 6]  725 	inc	bc
    0000035E 0A               [ 7]  726 	ld	a, (bc)
    0000035F 3C               [ 4]  727 	inc	a
    00000360 02               [ 7]  728 	ld	(bc), a
    00000361 D6 08            [ 7]  729 	sub	a, #0x08
    00000363 C0               [11]  730 	ret	NZ
                                    731 ;src/intro.c:302: v_snowball_set_frame(s->frame);
    00000364 7E               [ 7]  732 	ld	a, (hl)
    00000365 E5               [11]  733 	push	hl
    00000366 C5               [11]  734 	push	bc
    00000367 CDr00r00         [17]  735 	call	_v_snowball_set_frame
    0000036A C1               [10]  736 	pop	bc
    0000036B E1               [10]  737 	pop	hl
                                    738 ;src/intro.c:304: s->frame++;
    0000036C 34               [11]  739 	inc	(hl)
    0000036D 7E               [ 7]  740 	ld	a, (hl)
                                    741 ;src/intro.c:305: if (s->frame > 3)
    0000036E FE 04            [ 7]  742 	cp	a, #0x04
    00000370 38 02            [12]  743 	jr	C, 00102$
                                    744 ;src/intro.c:306: s->frame = 0;
    00000372 36 00            [10]  745 	ld	(hl), #0x00
    00000374                        746 00102$:
                                    747 ;src/intro.c:308: s->count = 0;
    00000374 AF               [ 4]  748 	xor	a, a
    00000375 02               [ 7]  749 	ld	(bc), a
                                    750 ;src/intro.c:310: }
    00000376 C9               [10]  751 	ret
                                    752 ;src/intro.c:312: static void i_spider_init(void) {
                                    753 ;	---------------------------------
                                    754 ; Function i_spider_init
                                    755 ; ---------------------------------
    00000377                        756 _i_spider_init:
                                    757 ;src/intro.c:314: for (u8 i = 0; i < 3; i++)
    00000377 0E 00            [ 7]  758 	ld	c, #0x00
    00000379                        759 00104$:
    00000379 79               [ 4]  760 	ld	a, c
    0000037A D6 03            [ 7]  761 	sub	a, #0x03
    0000037C 30 0F            [12]  762 	jr	NC, 00101$
                                    763 ;src/intro.c:315: cpct_asicSetSpriteZoom(i, 2, 1);
    0000037E 69               [ 4]  764 	ld	l, c
    0000037F 26 00            [ 7]  765 	ld	h, #0x00
    00000381 C5               [11]  766 	push	bc
    00000382 11 02 01         [10]  767 	ld	de, #0x102
    00000385 D5               [11]  768 	push	de
    00000386 CDr00r00         [17]  769 	call	_cpct_asicSetSpriteZoom
    00000389 C1               [10]  770 	pop	bc
                                    771 ;src/intro.c:314: for (u8 i = 0; i < 3; i++)
    0000038A 0C               [ 4]  772 	inc	c
    0000038B 18 EC            [12]  773 	jr	00104$
    0000038D                        774 00101$:
                                    775 ;src/intro.c:317: for (u8 i = 3; i < 12; i++)
    0000038D 0E 03            [ 7]  776 	ld	c, #0x03
    0000038F                        777 00107$:
    0000038F 79               [ 4]  778 	ld	a, c
    00000390 D6 0C            [ 7]  779 	sub	a, #0x0c
    00000392 D0               [11]  780 	ret	NC
                                    781 ;src/intro.c:318: cpct_asicSetSpriteZoom(i, 0, 0);
    00000393 69               [ 4]  782 	ld	l, c
    00000394 26 00            [ 7]  783 	ld	h, #0x00
    00000396 C5               [11]  784 	push	bc
    00000397 11 00 00         [10]  785 	ld	de, #0x00
    0000039A D5               [11]  786 	push	de
    0000039B CDr00r00         [17]  787 	call	_cpct_asicSetSpriteZoom
    0000039E C1               [10]  788 	pop	bc
                                    789 ;src/intro.c:317: for (u8 i = 3; i < 12; i++)
    0000039F 0C               [ 4]  790 	inc	c
                                    791 ;src/intro.c:319: }
    000003A0 18 ED            [12]  792 	jr	00107$
                                    793 ;src/intro.c:321: static void i_snowball_init(void) {
                                    794 ;	---------------------------------
                                    795 ; Function i_snowball_init
                                    796 ; ---------------------------------
    000003A2                        797 _i_snowball_init:
                                    798 ;src/intro.c:323: for (u8 i = 2; i < 8; i++)
    000003A2 0E 02            [ 7]  799 	ld	c, #0x02
    000003A4                        800 00104$:
    000003A4 79               [ 4]  801 	ld	a, c
    000003A5 D6 08            [ 7]  802 	sub	a, #0x08
    000003A7 30 0F            [12]  803 	jr	NC, 00101$
                                    804 ;src/intro.c:324: cpct_asicSetSpriteZoom(i, 0, 0);
    000003A9 69               [ 4]  805 	ld	l, c
    000003AA 26 00            [ 7]  806 	ld	h, #0x00
    000003AC C5               [11]  807 	push	bc
    000003AD 11 00 00         [10]  808 	ld	de, #0x00
    000003B0 D5               [11]  809 	push	de
    000003B1 CDr00r00         [17]  810 	call	_cpct_asicSetSpriteZoom
    000003B4 C1               [10]  811 	pop	bc
                                    812 ;src/intro.c:323: for (u8 i = 2; i < 8; i++)
    000003B5 0C               [ 4]  813 	inc	c
    000003B6 18 EC            [12]  814 	jr	00104$
    000003B8                        815 00101$:
                                    816 ;src/intro.c:325: for (u8 i = 10; i < 16; i++)
    000003B8 0E 0A            [ 7]  817 	ld	c, #0x0a
    000003BA                        818 00107$:
    000003BA 79               [ 4]  819 	ld	a, c
    000003BB D6 10            [ 7]  820 	sub	a, #0x10
    000003BD 30 0F            [12]  821 	jr	NC, 00102$
                                    822 ;src/intro.c:326: cpct_asicSetSpriteZoom(i, 0, 0);
    000003BF 69               [ 4]  823 	ld	l, c
    000003C0 26 00            [ 7]  824 	ld	h, #0x00
    000003C2 C5               [11]  825 	push	bc
    000003C3 11 00 00         [10]  826 	ld	de, #0x00
    000003C6 D5               [11]  827 	push	de
    000003C7 CDr00r00         [17]  828 	call	_cpct_asicSetSpriteZoom
    000003CA C1               [10]  829 	pop	bc
                                    830 ;src/intro.c:325: for (u8 i = 10; i < 16; i++)
    000003CB 0C               [ 4]  831 	inc	c
    000003CC 18 EC            [12]  832 	jr	00107$
    000003CE                        833 00102$:
                                    834 ;src/intro.c:328: cpct_asicSetSpriteZoom(0, 2, 1);
    000003CE 21 02 01         [10]  835 	ld	hl, #0x102
    000003D1 E5               [11]  836 	push	hl
    000003D2 21 00 00         [10]  837 	ld	hl, #0x0000
    000003D5 CDr00r00         [17]  838 	call	_cpct_asicSetSpriteZoom
                                    839 ;src/intro.c:329: cpct_asicSetSpriteZoom(1, 2, 1);
    000003D8 21 02 01         [10]  840 	ld	hl, #0x102
    000003DB E5               [11]  841 	push	hl
    000003DC 21 01 00         [10]  842 	ld	hl, #0x0001
    000003DF CDr00r00         [17]  843 	call	_cpct_asicSetSpriteZoom
                                    844 ;src/intro.c:330: cpct_asicSetSpriteZoom(8, 2, 1);
    000003E2 21 02 01         [10]  845 	ld	hl, #0x102
    000003E5 E5               [11]  846 	push	hl
    000003E6 21 08 00         [10]  847 	ld	hl, #0x0008
    000003E9 CDr00r00         [17]  848 	call	_cpct_asicSetSpriteZoom
                                    849 ;src/intro.c:331: cpct_asicSetSpriteZoom(9, 2, 1);
    000003EC 21 02 01         [10]  850 	ld	hl, #0x102
    000003EF E5               [11]  851 	push	hl
    000003F0 21 09 00         [10]  852 	ld	hl, #0x0009
    000003F3 CDr00r00         [17]  853 	call	_cpct_asicSetSpriteZoom
                                    854 ;src/intro.c:332: }
    000003F6 C9               [10]  855 	ret
                                    856 ;src/intro.c:334: static void i_ani_snowball_r(u8 y, u8 speed) {
                                    857 ;	---------------------------------
                                    858 ; Function i_ani_snowball_r
                                    859 ; ---------------------------------
    000003F7                        860 _i_ani_snowball_r:
    000003F7 DD E5            [15]  861 	push	ix
    000003F9 DD 21 00 00      [14]  862 	ld	ix,#0
    000003FD DD 39            [15]  863 	add	ix,sp
    000003FF F5               [11]  864 	push	af
    00000400 3B               [ 6]  865 	dec	sp
    00000401 57               [ 4]  866 	ld	d, a
    00000402 5D               [ 4]  867 	ld	e, l
                                    868 ;src/intro.c:336: sprite_anim_state_t state = {.frame = 0, .count = 0, .dir = 1};
    00000403 DD 36 FD 00      [19]  869 	ld	-3 (ix), #0x00
    00000407 DD 36 FE 00      [19]  870 	ld	-2 (ix), #0x00
    0000040B DD 36 FF 01      [19]  871 	ld	-1 (ix), #0x01
                                    872 ;src/intro.c:338: a_load_snowball_sprites(false);
    0000040F D5               [11]  873 	push	de
    00000410 AF               [ 4]  874 	xor	a, a
    00000411 CDr00r00         [17]  875 	call	_a_load_snowball_sprites
                                    876 ;src/intro.c:339: i_snowball_init();
    00000414 CDrA2r03         [17]  877 	call	_i_snowball_init
    00000417 D1               [10]  878 	pop	de
                                    879 ;src/intro.c:343: v_set_intro_snowball_sprite_pos, i_snowball_tick, (u8 *)&state);
                                    880 ;src/intro.c:342: a_load_snowball_sprites, snowball_sprites_palette,
                                    881 ;src/intro.c:341: i_scroll_sprite_h(SCREEN_WIDTH_M2, -SPRITE_WIDTH_ZOOM, -speed, y, false,
    00000418 4B               [ 4]  882 	ld	c, e
    00000419 AF               [ 4]  883 	xor	a, a
    0000041A 47               [ 4]  884 	ld	b, a
    0000041B 91               [ 4]  885 	sub	a, c
    0000041C 4F               [ 4]  886 	ld	c, a
    0000041D 9F               [ 4]  887 	sbc	a, a
    0000041E 90               [ 4]  888 	sub	a, b
    0000041F 47               [ 4]  889 	ld	b, a
    00000420 21 00 00         [10]  890 	ld	hl, #0
    00000423 39               [11]  891 	add	hl, sp
    00000424 E5               [11]  892 	push	hl
    00000425 21r5Br03         [10]  893 	ld	hl, #_i_snowball_tick
    00000428 E5               [11]  894 	push	hl
    00000429 21r00r00         [10]  895 	ld	hl, #_v_set_intro_snowball_sprite_pos
    0000042C E5               [11]  896 	push	hl
    0000042D 21r00r00         [10]  897 	ld	hl, #_snowball_sprites_palette
    00000430 E5               [11]  898 	push	hl
    00000431 21r00r00         [10]  899 	ld	hl, #_a_load_snowball_sprites
    00000434 E5               [11]  900 	push	hl
    00000435 AF               [ 4]  901 	xor	a, a
    00000436 F5               [11]  902 	push	af
    00000437 33               [ 6]  903 	inc	sp
    00000438 D5               [11]  904 	push	de
    00000439 33               [ 6]  905 	inc	sp
    0000043A C5               [11]  906 	push	bc
    0000043B 11 00 FF         [10]  907 	ld	de, #0xff00
    0000043E 21 80 02         [10]  908 	ld	hl, #0x0280
    00000441 CDrC4r01         [17]  909 	call	_i_scroll_sprite_h
                                    910 ;src/intro.c:344: }
    00000444 DD F9            [10]  911 	ld	sp, ix
    00000446 DD E1            [14]  912 	pop	ix
    00000448 C9               [10]  913 	ret
                                    914 ;src/intro.c:346: static void i_ani_spider_l(u8 y, u8 speed) {
                                    915 ;	---------------------------------
                                    916 ; Function i_ani_spider_l
                                    917 ; ---------------------------------
    00000449                        918 _i_ani_spider_l:
    00000449 DD E5            [15]  919 	push	ix
    0000044B DD 21 00 00      [14]  920 	ld	ix,#0
    0000044F DD 39            [15]  921 	add	ix,sp
    00000451 F5               [11]  922 	push	af
    00000452 3B               [ 6]  923 	dec	sp
    00000453 47               [ 4]  924 	ld	b, a
    00000454 4D               [ 4]  925 	ld	c, l
                                    926 ;src/intro.c:348: sprite_anim_state_t state = {.frame = 0, .count = 0, .dir = 1};
    00000455 DD 36 FD 00      [19]  927 	ld	-3 (ix), #0x00
    00000459 DD 36 FE 00      [19]  928 	ld	-2 (ix), #0x00
    0000045D DD 36 FF 01      [19]  929 	ld	-1 (ix), #0x01
                                    930 ;src/intro.c:350: a_load_spider_sprites(false);
    00000461 C5               [11]  931 	push	bc
    00000462 AF               [ 4]  932 	xor	a, a
    00000463 CDr00r00         [17]  933 	call	_a_load_spider_sprites
                                    934 ;src/intro.c:351: i_spider_init();
    00000466 CDr77r03         [17]  935 	call	_i_spider_init
    00000469 C1               [10]  936 	pop	bc
                                    937 ;src/intro.c:355: v_set_intro_spider_sprite_pos, i_spider_tick, (u8 *)&state);
    0000046A 21 00 00         [10]  938 	ld	hl, #0
    0000046D 39               [11]  939 	add	hl, sp
                                    940 ;src/intro.c:354: a_load_spider_sprites, spider_sprites_palette,
    0000046E 11r00r00         [10]  941 	ld	de, #_spider_sprites_palette+0
                                    942 ;src/intro.c:353: i_scroll_sprite_h(-SPRITE_WIDTH_M2, SCREEN_WIDTH_M2, speed, y, false,
    00000471 AF               [ 4]  943 	xor	a, a
    00000472 E5               [11]  944 	push	hl
    00000473 21r20r03         [10]  945 	ld	hl, #_i_spider_tick
    00000476 E5               [11]  946 	push	hl
    00000477 21r00r00         [10]  947 	ld	hl, #_v_set_intro_spider_sprite_pos
    0000047A E5               [11]  948 	push	hl
    0000047B D5               [11]  949 	push	de
    0000047C 21r00r00         [10]  950 	ld	hl, #_a_load_spider_sprites
    0000047F E5               [11]  951 	push	hl
    00000480 26 00            [ 7]  952 	ld	h, #0x00
    00000482 68               [ 4]  953 	ld	l, b
    00000483 E5               [11]  954 	push	hl
    00000484 47               [ 4]  955 	ld	b, a
    00000485 C5               [11]  956 	push	bc
    00000486 11 80 02         [10]  957 	ld	de, #0x0280
    00000489 21 80 FF         [10]  958 	ld	hl, #0xff80
    0000048C CDrC4r01         [17]  959 	call	_i_scroll_sprite_h
                                    960 ;src/intro.c:356: }
    0000048F DD F9            [10]  961 	ld	sp, ix
    00000491 DD E1            [14]  962 	pop	ix
    00000493 C9               [10]  963 	ret
                                    964 ;src/intro.c:358: static void i_ghost_tick(u8 *state_ptr) {
                                    965 ;	---------------------------------
                                    966 ; Function i_ghost_tick
                                    967 ; ---------------------------------
    00000494                        968 _i_ghost_tick:
                                    969 ;src/intro.c:360: ghost_bob_t *s = (ghost_bob_t *)state_ptr;
                                    970 ;src/intro.c:362: s->phase = (s->phase + 1) & 31; /* Keep between 0 and 31 */
    00000494 5D               [ 4]  971 	ld	e, l
    00000495 54               [ 4]  972 	ld	d, h
    00000496 7E               [ 7]  973 	ld	a, (hl)
    00000497 3C               [ 4]  974 	inc	a
    00000498 E6 1F            [ 7]  975 	and	a, #0x1f
    0000049A 4F               [ 4]  976 	ld	c, a
    0000049B 71               [ 7]  977 	ld	(hl), c
                                    978 ;src/intro.c:363: s->y_off = ghost_sine[s->phase];
    0000049C 13               [ 6]  979 	inc	de
    0000049D 21r86r00         [10]  980 	ld	hl, #_ghost_sine+0
    000004A0 06 00            [ 7]  981 	ld	b, #0x00
    000004A2 09               [11]  982 	add	hl, bc
    000004A3 7E               [ 7]  983 	ld	a, (hl)
    000004A4 12               [ 7]  984 	ld	(de), a
                                    985 ;src/intro.c:364: }
    000004A5 C9               [10]  986 	ret
                                    987 	.area _CODE
                                    988 	.area _INITIALIZER
    00000000                        989 __xinit__i_int_idx:
    00000000 00                     990 	.db #0x00	; 0
    00000001                        991 __xinit__i_frame_c:
    00000001 00                     992 	.db #0x00	; 0
    00000002                        993 __xinit__show_roland:
    00000002 00                     994 	.db #0x00	;  0
    00000003                        995 __xinit__g_ghost_bob:
    00000003 00                     996 	.db #0x00	; 0
    00000004 00                     997 	.db #0x00	;  0
                                    998 	.area _CABS (ABS)
